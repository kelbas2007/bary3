# –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Bary3

## üìñ –ü—Ä–æ—Å—Ç–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

### –ß—Ç–æ —Ç–∞–∫–æ–µ Bary3?

**Bary3** ‚Äî —ç—Ç–æ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –¥–µ—Ç–µ–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–µ–±–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–æ—à–µ–ª—ë–∫, –≥–¥–µ —Ä–µ–±—ë–Ω–æ–∫ –º–æ–∂–µ—Ç:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–∏ –∫–∞—Ä–º–∞–Ω–Ω—ã–µ –¥–µ–Ω—å–≥–∏
- –ö–æ–ø–∏—Ç—å –Ω–∞ —Ü–µ–ª–∏ (–∏–≥—Ä—É—à–∫–∏, –ø–æ–¥–∞—Ä–∫–∏)
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã
- –£—á–∏—Ç—å—Å—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –ø–æ–Ω—è—Ç–∏—è–º —á–µ—Ä–µ–∑ —É—Ä–æ–∫–∏
- –ü–æ–ª—É—á–∞—Ç—å —Å–æ–≤–µ—Ç—ã –æ—Ç AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –ë–∞—Ä–∏

### –ö—Ç–æ —Ç–∞–∫–æ–π –ë–∞—Ä–∏?

**–ë–∞—Ä–∏** ‚Äî —ç—Ç–æ —É–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π:
- –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ –¥–µ–Ω—å–≥–∞—Ö
- –ü–æ–º–æ–≥–∞–µ—Ç —Ä–µ—à–∏—Ç—å, –º–æ–∂–Ω–æ –ª–∏ —á—Ç–æ-—Ç–æ –∫—É–ø–∏—Ç—å
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ç—ã –∏ –¥–∞—ë—Ç —Å–æ–≤–µ—Ç—ã
- –ù–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ –≤–∞–∂–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–ª–∞–π–Ω (–±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)

### –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–Ω—å–≥–∞–º–∏ –≤ –∏–≥—Ä—É:
- –ó–∞ –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞, –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏) —Ä–µ–±—ë–Ω–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç –æ—á–∫–∏ –æ–ø—ã—Ç–∞ (XP)
- –° –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ–º XP –ø–æ–≤—ã—à–∞–µ—Ç—Å—è —É—Ä–æ–≤–µ–Ω—å
- –ï—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —É—Å–ø–µ—Ö–∏
- –í–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

### –î–ª—è –∫–æ–≥–æ —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?

- **–î–µ—Ç–∏ 7-14 –ª–µ—Ç** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
- **–†–æ–¥–∏—Ç–µ–ª–∏** ‚Äî –º–æ–≥—É—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ "–†–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –∑–æ–Ω—É"
- **–°–µ–º—å–∏** ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏

---

## üéÆ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –º–µ—Ö–∞–Ω–∏–∫–∞

### 1. –ë–∞–ª–∞–Ω—Å (Balance)

**–ß—Ç–æ —ç—Ç–æ:** –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å —Ç–µ–∫—É—â–∏–º –±–∞–ª–∞–Ω—Å–æ–º –∏ –∏—Å—Ç–æ—Ä–∏–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –≠—Ç–æ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ—Ç–∫—É–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç ¬´–∫–∞—Ä—Ç–∏–Ω—É –¥–Ω—è¬ª –ø–æ –¥–µ–Ω—å–≥–∞–º.

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å –∏ XP –∏–≥—Ä–æ–∫–∞
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤
- –§–∏–ª—å—Ç—Ä—ã: –¥–µ–Ω—å, –Ω–µ–¥–µ–ª—è, –º–µ—Å—è—Ü, –≤—Å—ë –≤—Ä–µ–º—è
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ—Ö–æ–¥–∞ –∏–ª–∏ —Ä–∞—Å—Ö–æ–¥–∞

**–õ–æ–≥–∏–∫–∞:**
- –ö–∞–∂–¥–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å –¥–∞—Ç–æ–π, –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π, –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ–º
- –î–æ—Ö–æ–¥—ã —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –±–∞–ª–∞–Ω—Å, —Ä–∞—Å—Ö–æ–¥—ã —É–º–µ–Ω—å—à–∞—é—Ç
- –ó–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è +10 XP
- –ó–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è +5 XP
- –ë–∞—Ä–∏ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–ø–æ–∑–∏—Ç–∏–≤–Ω–æ –Ω–∞ –¥–æ—Ö–æ–¥—ã, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –±–æ–ª—å—à–∏—Ö —Ä–∞—Å—Ö–æ–¥–∞—Ö)

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –≠–∫—Ä–∞–Ω: `BalanceScreen` (`lib/screens/balance_screen.dart`)
- –ú–æ–¥–µ–ª–∏:
  - `Transaction` (`lib/models/transaction.dart`) ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (–¥–æ—Ö–æ–¥/—Ä–∞—Å—Ö–æ–¥)
  - `PlayerProfile` (`lib/models/player_profile.dart`) ‚Äî —É—Ä–æ–≤–µ–Ω—å, XP, streak –∏ –ø—Ä.
- –°–æ—Å—Ç–æ—è–Ω–∏–µ (Riverpod):
  - `transactionsProvider` (`lib/state/transactions_notifier.dart`) ‚Äî —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  - `playerProfileProvider` (`lib/state/player_profile_notifier.dart`) ‚Äî –ø—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:
  - `TransactionsRepository` (`lib/repositories/transactions_repo.dart`) ‚Äî –¥–æ—Å—Ç—É–ø –∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º
  - `PlayerProfileRepository` (`lib/repositories/player_profile_repo.dart`) ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ XP
- –•—Ä–∞–Ω–µ–Ω–∏–µ:
  - `StorageService.getTransactions()/addTransaction()/saveTransactions()`
  - –ë–∞–ª–∞–Ω—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤ —Ä–∞–Ω—Ç–∞–π–º–µ —á–µ—Ä–µ–∑ —Å—É–º–º—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å `parentApproved == true` –∏ `affectsWallet == true`
- XP:
  - –î–æ—Ö–æ–¥: `await playerProfileRepository.addXp(10);` (—Å–º. `_handleIncome` –≤ `MainScreen`)
  - –†–∞—Å—Ö–æ–¥: `await playerProfileRepository.addXp(5);` (—Å–º. `_handleExpense` –≤ `MainScreen`)
- –°–≤—è–∑—å —Å –ë–∞—Ä–∏:
  - –ö–∞–∂–¥–∞—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ `BariMemory` –∫–∞–∫ `BariActionType.income` –∏–ª–∏ `BariActionType.expense`
  - –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `BariContextAdapter` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–∞—Ç –∏ —Å–æ–≤–µ—Ç–æ–≤

### 2. –ö–æ–ø–∏–ª–∫–∏ (Piggy Banks)

**–ß—Ç–æ —ç—Ç–æ:** –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∫–æ–ø–∏–ª–∫–∏ –¥–ª—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–µ–ª–∏ (–∏–≥—Ä—É—à–∫–∞, –ø–æ–µ–∑–¥–∫–∞, –≥–∞–¥–∂–µ—Ç –∏ —Ç.–ø.).

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º, —Ü–µ–ª—å—é (—Å—É–º–º–∞) –∏ –∏–∫–æ–Ω–∫–æ–π
- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏ –∏–∑ –±–∞–ª–∞–Ω—Å–∞
- –ê–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (–ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –¥–æ—Ö–æ–¥–∞ –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞)
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–æ
- –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏ ‚Äî –Ω–∞–≥—Ä–∞–¥–∞ +50 XP

**–õ–æ–≥–∏–∫–∞:**
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–ø–∏–ª–∫–∏: +15 XP
- –ü—Ä–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–∏: +5 XP –∑–∞ –∫–∞–∂–¥—ã–µ 10% –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏: +50 XP
- –î–µ–Ω—å–≥–∏ –≤ –∫–æ–ø–∏–ª–∫–µ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞ (–Ω–µ–ª—å–∑—è –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ)

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –≠–∫—Ä–∞–Ω: `PiggyBanksScreen` –∏ `PiggyBankDetailScreen` (`lib/screens/piggy_banks_screen.dart`)
- –ú–æ–¥–µ–ª—å: `PiggyBank` (`lib/models/piggy_bank.dart`)
  - `targetAmount` / `currentAmount` ‚Äî —Ü–µ–ª—å –∏ —Ç–µ–∫—É—â–∞—è —Å—É–º–º–∞ –≤ —Ü–µ–Ω—Ç–∞—Ö
  - `autoFillEnabled`, `autoFillType`, `autoFillPercent`, `autoFillAmount` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `PiggyBanksRepository` (`lib/repositories/piggy_banks_repo.dart`)
- –°–æ—Å—Ç–æ—è–Ω–∏–µ: `piggyBanksProvider` (`lib/state/piggy_banks_notifier.dart`)
- –ê–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ: `AutoFillService.processAutoFill()` (`lib/services/auto_fill_service.dart`)
  - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–æ–≤–æ–º –¥–æ—Ö–æ–¥–µ
  - –û–±—Ö–æ–¥–∏—Ç –≤—Å–µ –∫–æ–ø–∏–ª–∫–∏ —Å `autoFillEnabled == true`
  - –°–æ–∑–¥–∞—ë—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —Ä–∞—Å—Ö–æ–¥–∞ `TransactionSource.piggyBank`
- XP:
  - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏: `addXp(15)` –≤ –ª–æ–≥–∏–∫–µ —ç–∫—Ä–∞–Ω–∞
  - –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ: —Ä–∞—Å—á—ë—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –¥–æ/–ø–æ—Å–ª–µ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ `milestones * 5 XP` (—Å–º. `piggy_banks_screen.dart`)
  - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ü–µ–ª–∏: `addXp(50)` –∏ –∑–∞–ø–∏—Å—å `BariActionType.piggyBankCompleted` –≤ `BariMemory`
- –°–≤—è–∑—å —Å –ë–∞—Ä–∏:
  - –°–≤–æ–¥–∫–∞ –ø–æ –∫–æ–ø–∏–ª–∫–∞–º –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `BariContext.piggyBanks` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `GoalAdvisorProvider`

### 3. –ö–∞–ª–µ–Ω–¥–∞—Ä—å (Calendar)

**–ß—Ç–æ —ç—Ç–æ:** –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥—É—â–∏—Ö –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –∏ –∞–≤—Ç–æ‚Äë—Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π (–¥–æ—Ö–æ–¥ –∏–ª–∏ —Ä–∞—Å—Ö–æ–¥)
- –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–æ–±—ã—Ç–∏—è (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, –µ–∂–µ–º–µ—Å—è—á–Ω–æ)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö
- –û—Ç–º–µ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏

**–õ–æ–≥–∏–∫–∞:**
- –°–æ–±—ã—Ç–∏—è —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –ø—Ä–æ–≥–Ω–æ–∑–µ –±–∞–ª–∞–Ω—Å–∞
- –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ "–ø—Ä–æ–ø—É—â–µ–Ω–æ"
- –ë–∞—Ä–∏ –º–æ–∂–µ—Ç –Ω–∞–ø–æ–º–Ω–∏—Ç—å –æ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö
- –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è: +15 XP

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –≠–∫—Ä–∞–Ω: `CalendarScreen` (`lib/screens/calendar_screen.dart`) –∏ `CalendarForecastScreen`
- –ú–æ–¥–µ–ª—å: `PlannedEvent` (`lib/models/planned_event.dart`)
  - `type` (`TransactionType.income/expense`), `amount`, `repeat`, `status`, `affectsWallet`
  - `payoutPiggyBankId` ‚Äî –µ—Å–ª–∏ –¥–µ–Ω—å–≥–∏ –∏–¥—É—Ç —Å—Ä–∞–∑—É –≤ –∫–æ–ø–∏–ª–∫—É
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `PlannedEventsRepository` (`lib/repositories/planned_events_repo.dart`)
- –°–æ—Å—Ç–æ—è–Ω–∏–µ: `plannedEventsProvider` (`lib/state/planned_events_notifier.dart`)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º: `CalendarSyncService` (`lib/services/calendar_sync_service.dart`) + `device_calendar`
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π:
  - –ü—Ä–∏ –æ—Ç–º–µ—Ç–∫–µ ¬´–≤—ã–ø–æ–ª–Ω–µ–Ω–æ¬ª —Å–æ–∑–¥–∞—ë—Ç—Å—è `Transaction` —Å —Å—Å—ã–ª–∫–æ–π `plannedEventId`
  - –î–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–æ–±—ã—Ç–∏–π —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ (—Å–º. `_createNextRepeatEvent`)
- XP:
  - –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è: –∏–∑–º–µ–Ω–µ–Ω–∏–µ `profile.xp + 15` (—Å–º. `calendar_screen.dart` ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç)
- –ü—Ä–æ–≥–Ω–æ–∑:
  - `CalendarForecastScreen` —Å–æ–±–∏—Ä–∞–µ—Ç –±—É–¥—É—â–∏–µ —Å–æ–±—ã—Ç–∏—è –∏ —Å—Ç—Ä–æ–∏—Ç –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ –¥–Ω—è–º/–Ω–µ–¥–µ–ª—è–º

### 4. –£—Ä–æ–∫–∏ (Lessons)

**–ß—Ç–æ —ç—Ç–æ:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É—Ä–æ–∫–∏ –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏ —Å –∫–≤–∏–∑–∞–º–∏ –∏ –º–∏–Ω–∏‚Äë—Ç—Ä–µ–Ω–∞–∂—ë—Ä–∞–º–∏.

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- 40 —É—Ä–æ–∫–æ–≤ (20 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö + 20 –ø—Ä–µ–º–∏—É–º)
- 5 –º–æ–¥—É–ª–µ–π: –û—Å–Ω–æ–≤—ã, –¶–∏—Ñ—Ä–æ–≤—ã–µ —Ñ–∏–Ω–∞–Ω—Å—ã, –†–∞–±–æ—Ç–∞, –ë—É–¥—É—â–µ–µ, –¢—Ä–µ–Ω–¥—ã
- –ö–∞–∂–¥—ã–π —É—Ä–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç, –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏, –∫–≤–∏–∑
- –ó–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —É—Ä–æ–∫–∞: +XP
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π —á–µ—Ä–µ–∑ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å–µ–π—á–∞—Å"

**–õ–æ–≥–∏–∫–∞:**
- –£—Ä–æ–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ 3 —è–∑—ã–∫–∞—Ö (ru, en, de)
- –ü—Ä–µ–º–∏—É–º —É—Ä–æ–∫–∏ —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- –ö–≤–∏–∑—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- –ú–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—Ç—å —É—Ä–æ–∫–∏

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –≠–∫—Ä–∞–Ω: `LessonsScreen` (`lib/screens/lessons_screen.dart`)
- –ú–æ–¥–µ–ª–∏:
  - `Lesson` (`lib/models/lesson.dart`) ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É—Ä–æ–∫–∞, —Å–ª–∞–π–¥—ã, –º–µ–¥–∏–∞, XP –Ω–∞–≥—Ä–∞–¥–∞
  - `LessonSlide` / `SlideType` ‚Äî —Ç–∏–ø —Å–ª–∞–π–¥–∞ (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–≤–∏–∑, –¥–µ–π—Å—Ç–≤–∏–µ)
- –ö–æ–Ω—Ç–µ–Ω—Ç:
  - –¢–µ–ª–æ —É—Ä–æ–∫–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ JSON/Markdown —Ñ–∞–π–ª–∞—Ö –≤ `assets/lessons/{locale}/`
  - –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ `rootBundle` –∏ –ø–∞—Ä—Å–∏–Ω–≥ –≤ –º–æ–¥–µ–ª–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å:
  - –•—Ä–∞–Ω–∏—Ç—Å—è –≤ `StorageService.getLessonProgress()/saveLessonProgress()`
  - XP –∑–∞ —É—Ä–æ–∫: `lesson.xpReward` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ `PlayerProfile.xp`
- –ú–∏–Ω–∏‚Äë—Ç—Ä–µ–Ω–∞–∂—ë—Ä—ã:
  - –û—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω `MinitrainersScreen` —Å –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏
  - XP –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–Ω–∏‚Äë—Ç—Ä–µ–Ω–∞–∂—ë—Ä–∞: +15 XP –∏–ª–∏ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

### 5. AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ë–∞—Ä–∏

**–ß—Ç–æ —ç—Ç–æ:** –£–º–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –ß–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–±—â–µ–Ω–∏—è
- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –ë–∞—Ä–∏ –Ω–∞ –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–∞—Ö
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ (–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, —Å–æ–≤–µ—Ç—ã)

**–õ–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π LLM (llama.cpp) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–±–∞–ª–∞–Ω—Å, –∫–æ–ø–∏–ª–∫–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- –ú–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–≤–∏–∑—ã, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞—Ç—ã, —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∞–º–º–∞—Ä–∏ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–ª–∞–π–Ω

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å):**
- –Ø–¥—Ä–æ: `BariSmart` (`lib/bari_smart/bari_smart.dart`)
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`BariSettingsStore`), –±–∞–∑—É –∑–Ω–∞–Ω–∏–π (`KnowledgePackProvider`) –∏ LLM (`LocalLLMProvider`)
  - –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ä—è–¥–∫–æ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏ fallbacks
- –ö–æ–Ω—Ç–µ–∫—Å—Ç:
  - `BariContext` (`lib/bari_smart/bari_context.dart`) ‚Äî —Å–∂–∞—Ç—ã–π —Å–Ω–∏–º–æ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `BariContextAdapter.build()` ‚Äî —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `StorageService` –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (off‚Äëline –ø—Ä–∞–≤–∏–ª–∞ –∏ –ª–æ–≥–∏–∫–∞):
  - `SmallTalkProvider` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è, –±–æ–ª—Ç–æ–≤–Ω—è
  - `AppFeaturesProvider` ‚Äî –∑–Ω–∞–Ω–∏—è –æ —Ñ—É–Ω–∫—Ü–∏—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - `SmartMathProvider` ‚Äî —Ä–∞—Å—á—ë—Ç—ã –∏ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
  - `GoalAdvisorProvider` ‚Äî —Å–æ–≤–µ—Ç—ã –ø–æ –∫–æ–ø–∏–ª–∫–∞–º
  - `SpendingRulesProvider` ‚Äî rule‚Äëbased –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ç
  - `ContextAwareProvider` ‚Äî –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ —Ç–µ–∫—É—â–µ–º—É —ç–∫—Ä–∞–Ω—É –∏ –¥–µ–π—Å—Ç–≤–∏—è–º
  - `FinanceCoachProvider` ‚Äî –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã
  - `AppHelpProvider` ‚Äî –ø–æ–º–æ—â—å –ø–æ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ —Ñ—É–Ω–∫—Ü–∏—è–º
  - `KnowledgePackProvider` ‚Äî —Å—Ç–∞—Ç–∏—á–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –∏–∑ `assets/bari_knowledge/*.json`
- LLM‚Äë—É—Ä–æ–≤–µ–Ω—å:
  - `LocalLLMProvider` + `ModelLoader` + `LlamaFFIBinding` (FFI –∫ llama.cpp)
  - –ú–æ–¥–µ–ª—å: Llama 3.2 3B Q3_K_S –≤ —Ñ–æ—Ä–º–∞—Ç–µ GGUF, —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –∏–∑ `assets/aka/models/*.xz`
  - –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞: `ChatHistoryService` —Ö—Ä–∞–Ω–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Å–æ–æ–±—â–µ–Ω–∏–π –≤ SharedPreferences
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:
  - `OnlineReferenceProvider` ‚Äî Wikipedia/DuckDuckGo (–ø–æ –∂–µ–ª–∞–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  - `SystemAssistantProvider` ‚Äî –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É (Siri, Google Assistant), –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ

### 6. –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã

**–ß—Ç–æ —ç—Ç–æ:** –ù–∞–±–æ—Ä —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–≤ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π.

**–¢–∏–ø—ã –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–≤:**
1. **–ü–ª–∞–Ω –∫–æ–ø–∏–ª–∫–∏** ‚Äî —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏
2. **–î–∞—Ç–∞ —Ü–µ–ª–∏** ‚Äî –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ —Ü–µ–ª—å –ø—Ä–∏ –∑–∞–¥–∞–Ω–Ω–æ–π —Å—É–º–º–µ
3. **–ú–æ–∂–Ω–æ –ª–∏ –∫—É–ø–∏—Ç—å?** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞, —Ö–≤–∞—Ç–∏—Ç –ª–∏ –¥–µ–Ω–µ–≥ –Ω–∞ –ø–æ–∫—É–ø–∫—É
4. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω** ‚Äî –∫–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–≥–æ–¥–Ω–µ–µ
5. **–ü—Ä–∞–≤–∏–ª–æ 24 —á–∞—Å–æ–≤** ‚Äî —Å—Ç–æ–∏—Ç –ª–∏ –ø–æ–¥–æ–∂–¥–∞—Ç—å –ø–µ—Ä–µ–¥ –ø–æ–∫—É–ø–∫–æ–π
6. **–ë—é–¥–∂–µ—Ç 50/30/20** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
7. **–ü–æ–¥–ø–∏—Å–∫–∏** ‚Äî —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–æ–∫
8. **–ü—Ä–æ–≥–Ω–æ–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—è** ‚Äî –ø—Ä–æ–≥–Ω–æ–∑ –±–∞–ª–∞–Ω—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

**–õ–æ–≥–∏–∫–∞:**
- –í—Å–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã —Å–æ–∑–¥–∞—é—Ç –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –ë–∞—Ä–∏
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è —Å –ë–∞—Ä–∏
- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã —É—á–∏—Ç—ã–≤–∞—é—Ç —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –∏ –∫–æ–ø–∏–ª–∫–∏

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –≠–∫—Ä–∞–Ω—ã:
  - `PiggyPlanCalculator`, `GoalDateCalculator`, `CanIBuyCalculator`,
    `PriceComparisonCalculator`, `TwentyFourHourRuleCalculator`,
    `Budget503020Calculator`, `SubscriptionsCalculator`,
    `CalendarForecastCalculator` (`lib/screens/calculators/*.dart`)
- –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
  - –í–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (`MoneyInputValidator` –∏ –¥—Ä.)
  - –†–∞—Å—á—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö/–º–µ—Ç–æ–¥–∞—Ö —ç–∫—Ä–∞–Ω–∞
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –∑–∞–ø–∏—Å—å –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–ª–∞–Ω –∫–æ–ø–∏–ª–∫–∏)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–∞—Ä–∏:
  - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –¥–µ–π—Å—Ç–≤–∏—è —Ç–∏–ø–∞ `BariActionType.openCalculator`
  - –ë–∞—Ä–∏ –º–æ–∂–µ—Ç ¬´–ø–æ–¥—Å–æ–≤—ã–≤–∞—Ç—å¬ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å (—Å–º. `FinanceCoachProvider`)

### 7. –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞ (Earnings Lab)

**–ß—Ç–æ —ç—Ç–æ:** –°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–Ω–∏–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ä–º–∞–Ω–Ω—ã—Ö –¥–µ–Ω–µ–≥.

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞–Ω–∏–π (—É–±–æ—Ä–∫–∞, –ø–æ–º–æ—â—å –ø–æ –¥–æ–º—É, —É—á—ë–±–∞)
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞—Ç—ã
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π —Å —Ñ–æ—Ç–æ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å—É–º–º (>= 100‚ÇΩ)
- –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π

**–õ–æ–≥–∏–∫–∞:**
- –ó–∞–¥–∞–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–º–∏ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è
- –ù–∞–≥—Ä–∞–¥–∞ –º–æ–∂–µ—Ç –∏–¥—Ç–∏ –≤ –∫–æ—à–µ–ª—ë–∫ –∏–ª–∏ –≤ –∫–æ–ø–∏–ª–∫—É
- –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–æ–±—Ä–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è –¥–ª—è —Å—É–º–º >= 100‚ÇΩ
- –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ—Ö–æ–¥–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –≠–∫—Ä–∞–Ω: `EarningsLabScreen` (`lib/screens/earnings_lab_screen.dart`)
- –ú–æ–¥–µ–ª–∏:
  - `CustomTask` (`lib/models/custom_task.dart`) ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è
  - –î–æ–ø. —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –ø–ª–∞–Ω–æ–≤, —Å—Ç–∞—Ç—É—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é
- –•—Ä–∞–Ω–µ–Ω–∏–µ:
  - –ó–∞–¥–∞–Ω–∏—è –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å —Ö—Ä–∞–Ω—è—Ç—Å—è —á–µ—Ä–µ–∑ `StorageService` (–∫–ª—é—á–∏ `custom_tasks`, `earnings_streak` –∏ —Ç.–ø.)
- –ü–æ—Ç–æ–∫–∏:
  - –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è ‚Üí —Å–æ–±—ã—Ç–∏–µ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è ‚Üí –∑–∞–ø—Ä–æ—Å –æ–¥–æ–±—Ä–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è (–µ—Å–ª–∏ —Å—É–º–º–∞ ‚â• –ø–æ—Ä–æ–≥–∞)
  - –û–¥–æ–±—Ä–µ–Ω–∏–µ ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–æ—Ö–æ–¥–∞ (`TransactionSource.earningsLab`)
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ streak –∏ XP (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ª–æ–≥–∏–∫–∏ —ç–∫—Ä–∞–Ω–∞)

### 8. –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ XP –∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –ø—Ä–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–∏ XP
- –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–ø–µ—Ä–≤—ã–µ 100‚ÇΩ, –ø–µ—Ä–≤–∞—è –∫–æ–ø–∏–ª–∫–∞, 10 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ —Ç.–¥.)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö –∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è

**–õ–æ–≥–∏–∫–∞ —É—Ä–æ–≤–Ω–µ–π:**
- –£—Ä–æ–≤–µ–Ω—å 1: 0-99 XP
- –£—Ä–æ–≤–µ–Ω—å 2: 100-249 XP
- –£—Ä–æ–≤–µ–Ω—å 3: 250-449 XP
- –£—Ä–æ–≤–µ–Ω—å 4: 450-699 XP
- –£—Ä–æ–≤–µ–Ω—å 5+: —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç (700 + level * 50)

**–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- –†–∞–∑–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π
- –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —ç–∫—Ä–∞–Ω–µ
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –¥–∞—Ç—É —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –£—Ä–æ–≤–Ω–∏:
  - –†–∞—Å—á—ë—Ç —É—Ä–æ–≤–Ω—è –ø–æ XP —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `PlayerProfile.level`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è: `LevelService.checkLevelUp(oldProfile, newProfile)`
  - –ü—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è:
    - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (`NotificationService.scheduleLevelUpNotification`), –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ
    - –í `BariMemory` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è `BariActionType.levelUp`
- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
  - –°–µ—Ä–≤–∏—Å: `AchievementsService` (`lib/services/achievements_service.dart`)
    - –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –≤ SharedPreferences (`_keyAchievements`)
    - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
    - –ú–µ—Ç–æ–¥ `checkAchievements` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è –ø–æ –ø—Ä–æ—Ñ–∏–ª—é, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º –∏ –∫–æ–ø–∏–ª–∫–∞–º
  - UI: `AchievementsScreen` (`lib/screens/achievements_screen.dart`)
    - –ü–æ–∫–∞–∑ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å –¥–∞—Ç–æ–π –∏ –∏–∫–æ–Ω–∫–æ–π
    - –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### 9. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–æ–Ω–∞

**–ß—Ç–æ —ç—Ç–æ:** –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π —Å PIN-–∑–∞—â–∏—Ç–æ–π.

**–§—É–Ω–∫—Ü–∏–∏:**
- –û–¥–æ–±—Ä–µ–Ω–∏–µ –∑–∞—Ä–∞–±–æ—Ç–∫–æ–≤ (>= 100‚ÇΩ)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ñ–∏–Ω–∞–Ω—Å–∞–º —Ä–µ–±—ë–Ω–∫–∞
- AI-—Å–∞–º–º–∞—Ä–∏ –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º PIN)

**–õ–æ–≥–∏–∫–∞:**
- PIN —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ (SHA-256 + salt)
- –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º PIN
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—Ö–æ–¥—ã, —Ä–∞—Å—Ö–æ–¥—ã, –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫–æ–ø–∏–ª–∫–∞–º

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –≠–∫—Ä–∞–Ω: `ParentZoneScreen` (`lib/screens/parent_zone_screen.dart`)
- PIN:
  - –•—Ä–∞–Ω–∏—Ç—Å—è –≤ `StorageService` (`_keyParentPin`, `_keyParentPinSalt`)
  - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `crypto` (`sha256`) —Å —Å–æ–ª—å—é
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ PIN –ø—Ä–∏ –≤—Ö–æ–¥–µ –∏ –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö (—Å–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –∏ —Ç.–ø.)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `StorageService.getTransactions()/getPiggyBanks()/getPlayerProfile()`
  - –°—á–∏—Ç–∞–µ—Ç –∞–≥—Ä–µ–≥–∞—Ç—ã (–æ–±—â–∏–π –¥–æ—Ö–æ–¥, —Ä–∞—Å—Ö–æ–¥, –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –ø–æ –∫–æ–ø–∏–ª–∫–∞–º)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI:
  - –ù–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Ö –∂–µ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–∞–º–º–∞—Ä–∏ (—á–µ—Ä–µ–∑ `LocalLLMProvider` –∏–ª–∏ rule‚Äëbased –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã)

### 10. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
- –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Ä–∞—Å—Ö–æ–¥–∞—Ö (20:00)
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ–±–∑–æ—Ä (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 18:00)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö

**–õ–æ–≥–∏–∫–∞:**
- –í—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ (–º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å)
- –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ 3 —è–∑—ã–∫–∞
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç–∫—Ä–∞–Ω

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ë–∞–∑–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å: `NotificationService` (`lib/services/notification_service.dart`)
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `flutter_local_notifications` + `timezone`
  - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–∞–Ω–∞–ª—ã, –∏–∫–æ–Ω–∫–∏, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ Android/iOS
- –£–º–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: `BariNotificationService` (`lib/services/bari_notification_service.dart`)
  - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Ä–∞—Å—Ö–æ–¥–∞—Ö –∏ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ–±–∑–æ—Ä
  - –£—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤–∫–ª—é—á–µ–Ω—ã –ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Ç–∏–ø—ã –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π)
- –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
  - Daily expense reminder ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞, –µ—Å—Ç—å –ª–∏ —Å–µ–≥–æ–¥–Ω—è —Ä–∞—Å—Ö–æ–¥—ã; –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –º—è–≥–∫–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
  - Weekly review ‚Äî –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å summary –Ω–µ–¥–µ–ª–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ë–∞—Ä–∏
  - Level‚Äëup notification ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è

---

## üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –¥–∏–∑–∞–π–Ω

### –û–±—â–∏–π —Å—Ç–∏–ª—å

**–¢–µ–º–∞:** Aurora Theme ‚Äî –∫–æ—Å–º–∏—á–µ—Å–∫–∞—è —Ç–µ–º–∞ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ –Ω–µ–æ–Ω–æ–≤—ã–º–∏ –∞–∫—Ü–µ–Ω—Ç–∞–º–∏.

**–¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞:**
- –û—Å–Ω–æ–≤–Ω–æ–π: —Å–∏–Ω–∏–µ –∏ —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã
- –ê–∫—Ü–µ–Ω—Ç—ã: –Ω–µ–æ–Ω–æ–≤—ã–π –∂—ë–ª—Ç—ã–π, –∑–µ–ª—ë–Ω—ã–π, –∫—Ä–∞—Å–Ω—ã–π
- –§–æ–Ω: —Ç—ë–º–Ω—ã–π —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
- –¢–µ–∫—Å—Ç: –±–µ–ª—ã–π —Å —Ä–∞–∑–ª–∏—á–Ω–æ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é

### –ù–∞–≤–∏–≥–∞—Ü–∏—è

**–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω:**
- Bottom Navigation Bar (5 –≤–∫–ª–∞–¥–æ–∫): –ë–∞–ª–∞–Ω—Å, –ö–æ–ø–∏–ª–∫–∏, –ö–∞–ª–µ–Ω–¥–∞—Ä—å, –£—Ä–æ–∫–∏, –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –ë–∞—Ä–∏ (–ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª)
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ (NavigationRail)

### –ê–Ω–∏–º–∞—Ü–∏–∏

- **Hero –∞–Ω–∏–º–∞—Ü–∏–∏** ‚Äî –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- **Shared Axis Transitions** ‚Äî Material 3 –ø–µ—Ä–µ—Ö–æ–¥—ã
- **AnimatedListView** ‚Äî –∞–Ω–∏–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **Haptic Feedback** ‚Äî —Ç–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI

**–ö–∞—Ä—Ç–æ—á–∫–∏:**
- –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
- –°–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–µ —É–≥–ª—ã (16px)
- –¢–µ–Ω–∏ –¥–ª—è –≥–ª—É–±–∏–Ω—ã

**–ö–Ω–æ–ø–∫–∏:**
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ñ–æ–Ω—ã
- –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
- Haptic feedback

**–°–ø–∏—Å–∫–∏:**
- Swipe actions (—Å–≤–∞–π–ø –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è)
- Drag & drop (–ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ)
- Skeleton screens –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- Empty states —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏

### –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

- **–ö—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã** (fl_chart) –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç—Ä–∞—Ç
- **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã** –¥–ª—è –∫–æ–ø–∏–ª–æ–∫
- **–ì—Ä–∞—Ñ–∏–∫–∏** –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∞ –±–∞–ª–∞–Ω—Å–∞

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Frontend:**
- **Flutter** 3.x ‚Äî –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Dart** 3.x ‚Äî —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Material 3** ‚Äî –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞

**State Management:**
- **Riverpod** 3.1.0 ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **StateNotifier** ‚Äî –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
- **SharedPreferences** ‚Äî –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **JSON** ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ (–±–µ–∑ –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤)

**AI:**
- **llama.cpp** ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–π LLM –¥–≤–∏–∂–æ–∫
- **Dart FFI** ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
- **–ú–æ–¥–µ–ª—å:** Llama 3.2 3B Q3_K_S (~350MB —Å–∂–∞—Ç–∞—è)

**–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è:**
- **Flutter Intl** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- **ARB —Ñ–∞–π–ª—ã** ‚Äî —Ä–µ—Å—É—Ä—Å—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞: —Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –Ω–µ–º–µ—Ü–∫–∏–π

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- `fl_chart` ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏
- `flutter_local_notifications` ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `table_calendar` ‚Äî –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- `cached_network_image` ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `device_calendar` ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `file_picker` ‚Äî –≤—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤
- `image_picker` ‚Äî –≤—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
lib/
‚îú‚îÄ‚îÄ bari_smart/              # AI –º–æ–¥—É–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ providers/           # –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ local_llm_provider.dart      # –õ–æ–∫–∞–ª—å–Ω—ã–π LLM
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ finance_coach_provider.dart  # –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goal_advisor_provider.dart   # –°–æ–≤–µ—Ç—ã –ø–æ –∫–æ–ø–∏–ª–∫–∞–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ spending_rules_provider.dart # –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ aca/                 # Adaptive Knowledge Assistant
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ local_llm/       # –õ–æ–∫–∞–ª—å–Ω—ã–π LLM –º–æ–¥—É–ª—å
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ llama_ffi_binding.dart    # FFI binding
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ model_loader.dart         # –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ model_version_manager.dart # –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ bari_smart.dart      # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å AI
‚îÇ   ‚îú‚îÄ‚îÄ bari_context.dart    # –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ bari_features_hub.dart # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ö–∞–± —Ñ—É–Ω–∫—Ü–∏–π
‚îÇ
‚îú‚îÄ‚îÄ models/                  # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ transaction.dart     # –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ piggy_bank.dart      # –ö–æ–ø–∏–ª–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ player_profile.dart  # –ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ planned_event.dart   # –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ achievement.dart     # –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ bari_memory.dart     # –ü–∞–º—è—Ç—å –ë–∞—Ä–∏
‚îÇ
‚îú‚îÄ‚îÄ screens/                 # –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ main_screen.dart     # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ balance_screen.dart  # –ë–∞–ª–∞–Ω—Å
‚îÇ   ‚îú‚îÄ‚îÄ piggy_banks_screen.dart # –ö–æ–ø–∏–ª–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ calendar_screen.dart # –ö–∞–ª–µ–Ω–¥–∞—Ä—å
‚îÇ   ‚îú‚îÄ‚îÄ lessons_screen.dart  # –£—Ä–æ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ settings_screen.dart # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ bari_chat_screen.dart # –ß–∞—Ç —Å –ë–∞—Ä–∏
‚îÇ   ‚îú‚îÄ‚îÄ achievements_screen.dart # –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ calculators/         # –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã
‚îÇ
‚îú‚îÄ‚îÄ services/                # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ storage_service.dart      # –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ notification_service.dart # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ level_service.dart        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ achievements_service.dart  # –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ auto_fill_service.dart    # –ê–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ repositories/            # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ player_profile_repo.dart
‚îÇ   ‚îú‚îÄ‚îÄ transactions_repo.dart
‚îÇ   ‚îî‚îÄ‚îÄ piggy_banks_repo.dart
‚îÇ
‚îú‚îÄ‚îÄ widgets/                 # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–∏–¥–∂–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ transaction_item.dart
‚îÇ   ‚îú‚îÄ‚îÄ spending_chart_widget.dart
‚îÇ   ‚îú‚îÄ‚îÄ skeleton_loader.dart
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ theme/                   # –¢–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ aurora_theme.dart
‚îÇ
‚îî‚îÄ‚îÄ l10n/                    # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ app_ru.arb
    ‚îú‚îÄ‚îÄ app_en.arb
    ‚îî‚îÄ‚îÄ app_de.arb
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

#### 1. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

**Transaction (–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è):**
```dart
class Transaction {
  final String id;
  final TransactionType type;        // income –∏–ª–∏ expense
  final int amount;                  // –≤ —Ü–µ–Ω—Ç–∞—Ö
  final DateTime date;
  final String? category;
  final String? note;
  final String? piggyBankId;         // —Å–≤—è–∑—å —Å –∫–æ–ø–∏–ª–∫–æ–π
  final String? plannedEventId;     // —Å–≤—è–∑—å —Å —Å–æ–±—ã—Ç–∏–µ–º
  final TransactionSource? source;   // –∏—Å—Ç–æ—á–Ω–∏–∫ (earningsLab, piggyBank, etc.)
  final bool parentApproved;         // –æ–¥–æ–±—Ä–µ–Ω–æ —Ä–æ–¥–∏—Ç–µ–ª–µ–º
  final bool affectsWallet;          // –≤–ª–∏—è–µ—Ç –Ω–∞ –±–∞–ª–∞–Ω—Å
}
```

**PiggyBank (–ö–æ–ø–∏–ª–∫–∞):**
```dart
class PiggyBank {
  final String id;
  final String name;
  final int targetAmount;            // —Ü–µ–ª—å –≤ —Ü–µ–Ω—Ç–∞—Ö
  final int currentAmount;           // —Ç–µ–∫—É—â–∞—è —Å—É–º–º–∞
  final bool autoFillEnabled;        // –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
  final AutoFillType? autoFillType;  // –ø—Ä–æ—Ü–µ–Ω—Ç –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞
}
```

**PlayerProfile (–ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞):**
```dart
class PlayerProfile {
  final int xp;                      // –æ—á–∫–∏ –æ–ø—ã—Ç–∞
  final int streakDays;              // —Å–µ—Ä–∏—è –¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
  final bool premiumUnlocked;        // –ø—Ä–µ–º–∏—É–º —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
  final int selfControlScore;        // –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª—è (0-100)
  
  int get level;                     // –≤—ã—á–∏—Å–ª—è–µ–º—ã–π —É—Ä–æ–≤–µ–Ω—å
  int get xpForNextLevel;            // XP –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è
}
```

#### 2. –°–µ—Ä–≤–∏—Å—ã –∏ –∏—Ö —Å–≤—è–∑–∏

**StorageService:**
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SharedPreferences
- –ú–µ—Ç–æ–¥—ã: `getTransactions()`, `saveTransactions()`, `getPiggyBanks()`, –∏ —Ç.–¥.

**NotificationService:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

**LevelService:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
- –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ XP
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è

**AutoFillService:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–æ–∫ –ø—Ä–∏ –Ω–æ–≤–æ–º –¥–æ—Ö–æ–¥–µ
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–ø–∏–ª–æ–∫

#### 3. State Management (Riverpod)

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
```dart
// –ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞
final playerProfileProvider = StateNotifierProvider<...>(...);

// –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
final transactionsProvider = StateNotifierProvider<...>(...);

// –ö–æ–ø–∏–ª–∫–∏
final piggyBanksProvider = StateNotifierProvider<...>(...);

// –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
final plannedEventsProvider = StateNotifierProvider<...>(...);
```

**–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é)
2. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `TransactionsRepository.add()`)
3. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ–±–Ω–æ–≤–ª—è–µ—Ç StorageService
4. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ–±–Ω–æ–≤–ª—è–µ—Ç StateNotifier
5. StateNotifier —É–≤–µ–¥–æ–º–ª—è–µ—Ç –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
6. UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

#### 4. AI –º–æ–¥—É–ª—å (BariSmart)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
BariSmart (–≥–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å)
  ‚îú‚îÄ‚îÄ BariSettingsStore (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
  ‚îú‚îÄ‚îÄ KnowledgePackProvider (–±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π)
  ‚îî‚îÄ‚îÄ LocalLLMProvider (–ª–æ–∫–∞–ª—å–Ω—ã–π LLM)
  
–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):
  1. SmallTalkProvider (–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è)
  2. AppFeaturesProvider (–∑–Ω–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π)
  3. SmartMathProvider (—Ä–∞—Å—á—ë—Ç—ã)
  4. GoalAdvisorProvider (—Å–æ–≤–µ—Ç—ã –ø–æ –∫–æ–ø–∏–ª–∫–∞–º)
  5. SpendingRulesProvider (–∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ç)
  6. ContextAwareProvider (–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã)
  7. FinanceCoachProvider (—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã)
  8. AppHelpProvider (–ø–æ–º–æ—â—å –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é)
  9. KnowledgePackProvider (–±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π)
  10. LocalLLMProvider (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ LLM)
  11. OnlineReferenceProvider (–æ–Ω–ª–∞–π–Ω-—Å–ø—Ä–∞–≤–∫–∞, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)
  12. SystemAssistantProvider (—Å–∏—Å—Ç–µ–º–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)
  13. FallbackProvider (–∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç)
```

**–ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
2. BariSmart –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç intent (–Ω–∞–º–µ—Ä–µ–Ω–∏–µ)
3. –ü—Ä–æ–±—É–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø–æ –ø–æ—Ä—è–¥–∫—É (–æ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∫ –æ–±—â–∏–º)
4. –ï—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å confidence > 0.7, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–Ω
5. –ò–Ω–∞—á–µ –ø—Ä–æ–±—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
6. LocalLLMProvider –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ñ–ª–∞–π–Ω –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (–µ—Å–ª–∏ –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞)
7. OnlineReferenceProvider –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω –æ–Ω–ª–∞–π–Ω-—Ä–µ–∂–∏–º –∏–ª–∏ hybrid-—Ä–µ–∂–∏–º
8. SystemAssistantProvider –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–∞—Ä–∏–∞–Ω—Ç (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)
9. FallbackProvider –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–∞—Ä–∏–∞–Ω—Ç (–≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç)

**BariContext (–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):**
```dart
class BariContext {
  final int walletBalanceCents;          // –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞ (–≤ —Ü–µ–Ω—Ç–∞—Ö)
  final int totalPiggyBanksSaved;       // —Å—É–º–º–∞ –≤ –∫–æ–ø–∏–ª–∫–∞—Ö (–≤ —Ü–µ–Ω—Ç–∞—Ö)
  final String currencyCode;            // –≤–∞–ª—é—Ç–∞
  final int playerLevel;                // —É—Ä–æ–≤–µ–Ω—å –∏–≥—Ä–æ–∫–∞
  final int playerXp;                    // XP
  final int lessonsCompleted;           // –ø—Ä–æ–π–¥–µ–Ω–æ —É—Ä–æ–∫–æ–≤
  final int piggyBanksCount;            // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ø–∏–ª–æ–∫
  final String? currentScreenId;        // —Ç–µ–∫—É—â–∏–π —ç–∫—Ä–∞–Ω
  final List<Map<String, dynamic>>? piggyBanks; // –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–ø–∏–ª–∫–∞—Ö
  final List<Map<String, dynamic>>? calendarEvents; // –±–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è
  final List<Map<String, dynamic>>? recentTransactions; // –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
  // ... –∏ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ
}
```

–ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `BariContextAdapter` –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –∫ AI.

#### 5. –õ–æ–≥–∏–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è XP

**–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞: +10 XP
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞: +10 XP

**–ö–æ–ø–∏–ª–∫–∏:**
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏: +15 XP
- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏: +5 XP –∑–∞ –∫–∞–∂–¥—ã–µ 10% –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–∏: +50 XP

**–°–æ–±—ã—Ç–∏—è:**
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è: +15 XP

**–£—Ä–æ–∫–∏:**
- –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —É—Ä–æ–∫–∞: +XP (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Ä–æ–∫–∞)

**–õ–æ–≥–∏–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è:**
1. –ü—Ä–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–∏ XP –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `PlayerProfileRepository.addXp()`
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ñ–∏–ª—å
3. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª—å —Å –Ω–æ–≤—ã–º XP
4. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `LevelService.checkLevelUp()`
5. –ï—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å –ø–æ–≤—ã—Å–∏–ª—Å—è:
   - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
   - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ –≤ –ø–∞–º—è—Ç—å –ë–∞—Ä–∏

#### 6. –õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–ø–∏–ª–æ–∫

**–¢—Ä–∏–≥–≥–µ—Ä:** –ù–æ–≤—ã–π –¥–æ—Ö–æ–¥ (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ç–∏–ø–∞ `income`)

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥–æ—Ö–æ–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `AutoFillService.processAutoFill()`
2. –ü–æ–ª—É—á–∞—é—Ç—Å—è –≤—Å–µ –∫–æ–ø–∏–ª–∫–∏ —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º
3. –î–ª—è –∫–∞–∂–¥–æ–π –∫–æ–ø–∏–ª–∫–∏:
   - –ï—Å–ª–∏ —Ç–∏–ø: –ø—Ä–æ—Ü–µ–Ω—Ç ‚Äî –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –¥–æ—Ö–æ–¥–∞
   - –ï—Å–ª–∏ —Ç–∏–ø: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞
4. –ï—Å–ª–∏ —Å—É–º–º–∞ > 0 –∏ –∫–æ–ø–∏–ª–∫–∞ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞:
   - –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å—É–º–º–∞ –≤ –∫–æ–ø–∏–ª–∫—É (–Ω–æ –Ω–µ –±–æ–ª—å—à–µ —Ü–µ–ª–∏)
   - –°–æ–∑–¥–∞—ë—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–∞ (–¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏)
   - –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è XP –∑–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ

#### 7. –õ–æ–≥–∏–∫–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–¥–æ–±—Ä–µ–Ω–∏—è

**–¢—Ä–∏–≥–≥–µ—Ä:** –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Ö–æ–¥–∞ >= 100‚ÇΩ (–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ–¥–∏—Ç–µ–ª—è)

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–æ—Ö–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `FinanceRules.requiresParentApproval()`
2. –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–æ–±—Ä–µ–Ω–∏–µ:
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å `parentApproved = false`
   - `affectsWallet = false` (–Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –±–∞–ª–∞–Ω—Å)
3. –†–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ "–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∑–æ–Ω–µ"
4. –ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏:
   - `parentApproved = true`
   - `affectsWallet = true`
   - –ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
5. –ü—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏:
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —É–¥–∞–ª—è–µ—Ç—Å—è –∏–ª–∏ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω–∞—è

#### 8. –õ–æ–≥–∏–∫–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

**–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç —Å–æ–±—ã—Ç–∏–µ —Å –¥–∞—Ç–æ–π, —Å—É–º–º–æ–π, —Ç–∏–ø–æ–º (–¥–æ—Ö–æ–¥/—Ä–∞—Å—Ö–æ–¥)
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º—Å—è (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, –µ–∂–µ–º–µ—Å—è—á–Ω–æ)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `StorageService`

**–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:**
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–í—ã–ø–æ–ª–Ω–µ–Ω–æ" —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
- –ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è, —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ
- –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è +15 XP

**–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:**
- –°–æ–±—ã—Ç–∏—è —Å –ø—Ä–æ—à–µ–¥—à–µ–π –¥–∞—Ç–æ–π –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ "–ø—Ä–æ–ø—É—â–µ–Ω–æ"
- –ë–∞—Ä–∏ –º–æ–∂–µ—Ç –Ω–∞–ø–æ–º–Ω–∏—Ç—å –æ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö

**–ü—Ä–æ–≥–Ω–æ–∑ –±–∞–ª–∞–Ω—Å–∞:**
- –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –±—É–¥—É—â–µ–µ

#### 9. –õ–æ–≥–∏–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π:**
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `AchievementsService.checkAchievements()`
- –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —É—Å–ª–æ–≤–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –ù–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–¢–∏–ø—ã –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π:**
- –ü–µ—Ä–≤—ã–µ 100‚ÇΩ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ
- –ü–µ—Ä–≤–∞—è –∫–æ–ø–∏–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞
- 10 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ü–µ—Ä–≤–∞—è –∫–æ–ø–∏–ª–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- –ò —Ç.–¥.

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- –≠–∫—Ä–∞–Ω –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã–¥–µ–ª–µ–Ω—ã –≤–∏–∑—É–∞–ª—å–Ω–æ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞—Ç–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

#### 10. –õ–æ–≥–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `BariNotificationService.scheduleSmartReminders()`
- –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ:**
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 20:00 –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

**–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ–±–∑–æ—Ä:**
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 18:00
- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

**–ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è:**
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:**
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç–∫—Ä–∞–Ω
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `MainScreen.tabNotifier` –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

---

## üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

```
User Action
    ‚Üì
Screen (UI)
    ‚Üì
Repository / Service
    ‚Üì
StorageService (–¥–∞–Ω–Ω—ã–µ)
    ‚Üì
StateNotifier (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
    ‚Üì
UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### –ü—Ä–∏–º–µ—Ä: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞

```
1. User –Ω–∞–∂–∏–º–∞–µ—Ç "–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥" –≤ BalanceScreen
   ‚Üì
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥ –≤–≤–æ–¥–∞ —Å—É–º–º—ã
   ‚Üì
3. User –≤–≤–æ–¥–∏—Ç —Å—É–º–º—É –∏ –Ω–∞–∂–∏–º–∞–µ—Ç "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
   ‚Üì
4. BalanceScreen –≤—ã–∑—ã–≤–∞–µ—Ç TransactionsRepository.add()
   ‚Üì
5. TransactionsRepository:
   - –°–æ–∑–¥–∞—ë—Ç Transaction –æ–±—ä–µ–∫—Ç
   - –í—ã–∑—ã–≤–∞–µ—Ç StorageService.addTransaction()
   - –í—ã–∑—ã–≤–∞–µ—Ç AutoFillService.processAutoFill() (–µ—Å–ª–∏ –¥–æ—Ö–æ–¥)
   - –í—ã–∑—ã–≤–∞–µ—Ç PlayerProfileRepository.addXp(10)
   - –û–±–Ω–æ–≤–ª—è–µ—Ç transactionsProvider
   ‚Üì
6. LevelService.checkLevelUp() (–µ—Å–ª–∏ XP –∏–∑–º–µ–Ω–∏–ª—Å—è)
   ‚Üì
7. UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Riverpod
   ‚Üì
8. –ë–∞—Ä–∏ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
```

### –ü—Ä–∏–º–µ—Ä: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –ë–∞—Ä–∏

```
1. User –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ BariChatScreen
   ‚Üì
2. BariChatScreen –≤—ã–∑—ã–≤–∞–µ—Ç BariSmart.respond()
   ‚Üì
3. BariSmart:
   - –°–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ BariContextAdapter
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç intent —á–µ—Ä–µ–∑ BariIntentDetector
   - –ü—Ä–æ–±—É–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø–æ –ø–æ—Ä—è–¥–∫—É
   ‚Üì
4. –ï—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç (confidence > 0.7):
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—Ç–≤–µ—Ç
   ‚Üì
5. –ò–Ω–∞—á–µ –ø—Ä–æ–±—É–µ—Ç—Å—è LocalLLMProvider:
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥–µ–ª—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - –°—Ç—Ä–æ–∏—Ç –ø—Ä–æ–º–ø—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ llama.cpp
   - –ü–∞—Ä—Å–∏—Ç –æ—Ç–≤–µ—Ç
   ‚Üì
6. –û—Ç–≤–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ BariChatScreen
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**SharedPreferences –∫–ª—é—á–∏:**
- `transactions` ‚Äî JSON –º–∞—Å—Å–∏–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `piggy_banks` ‚Äî JSON –º–∞—Å—Å–∏–≤ –∫–æ–ø–∏–ª–æ–∫
- `player_profile` ‚Äî JSON –ø—Ä–æ—Ñ–∏–ª—è –∏–≥—Ä–æ–∫–∞
- `planned_events` ‚Äî JSON –º–∞—Å—Å–∏–≤ —Å–æ–±—ã—Ç–∏–π
- `bari_memory` ‚Äî JSON –ø–∞–º—è—Ç–∏ –ë–∞—Ä–∏
- `achievements` ‚Äî JSON –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- `settings_*` ‚Äî —Ä–∞–∑–ª–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö:**
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `version` –ø–æ–ª–µ –≤ JSON
- –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–∏

**–ú–æ–¥–µ–ª–∏ LLM:**
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `ModelVersionManager`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–µ—Ä—Å–∏–π –º–æ–¥–µ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

---

## üéØ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –ü—Ä–∞–≤–∏–ª–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤

**–û–¥–æ–±—Ä–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è:**
- –î–æ—Ö–æ–¥—ã >= 100‚ÇΩ —Ç—Ä–µ–±—É—é—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ FinanceRules

**–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º:**
- –í—Å–µ —Å—É–º–º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å > 0
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `MoneyInputValidator`

**–ë–∞–ª–∞–Ω—Å:**
- –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º (–¥–ª—è —Ä–∞—Å—Ö–æ–¥–æ–≤)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ä–∞—Å—Ö–æ–¥–∞

### –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã

**XP:**
- –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è –∑–∞ –≤—Å–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º

**–£—Ä–æ–≤–Ω–∏:**
- –í—ã—á–∏—Å–ª—è—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ XP
- –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

**–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- –†–∞–∑–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ù–µ–ª—å–∑—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–≤–∞–∂–¥—ã

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ –æ–±–ª–∞–∫–∞)
- PIN —Ä–æ–¥–∏—Ç–µ–ª—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ (SHA-256 + salt)
- –ù–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä—ã

### –í–∞–ª–∏–¥–∞—Ü–∏—è

- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–≤–æ–¥—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è
- –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —Å—É–º–º
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üåê –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏

- **–†—É—Å—Å–∫–∏–π (ru)** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **–ê–Ω–≥–ª–∏–π—Å–∫–∏–π (en)** ‚Äî –ø–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- **–ù–µ–º–µ—Ü–∫–∏–π (de)** ‚Äî –ø–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

### –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

- –í—Å–µ UI —Å—Ç—Ä–æ–∫–∏ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- AI –æ—Ç–≤–µ—Ç—ã –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã (—á–µ—Ä–µ–∑ –ø—Ä–æ–º–ø—Ç—ã)
- –î–∞—Ç—ã –∏ —á–∏—Å–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ –ª–æ–∫–∞–ª–∏

---

## üì± –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

- **Android** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **iOS** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è macOS –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

**Android:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è: Android 7.0 (API 24)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è: Android 10+ (API 29+)
- –î–ª—è llama.cpp: ARM64 –∏–ª–∏ x86_64

**iOS:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è: iOS 12.0
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è: iOS 14.0+

---

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- **RepaintBoundary** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏
- **Lazy loading** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–æ–≤ –ø–æ —á–∞—Å—Ç—è–º
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è** ‚Äî —á–µ—Ä–µ–∑ Riverpod –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **Performance Monitor** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ FPS
- **Debug logging** ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ debug —Ä–µ–∂–∏–º–µ

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

- **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã AI
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π LLM
- **–†–∞—Å—à–∏—Ä—è–µ–º–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —è–∑—ã–∫–∏

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ

1. **–£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ LLM**
   - –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

2. **–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
   - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
   - –£–ª—É—á—à–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ LLM
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
   - –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üîÑ –î–µ—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –õ–æ–≥–∏–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**–°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Å—É–º–º—É –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Å—É–º–º—ã (`MoneyInputValidator`)
3. –°–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç `Transaction`
4. –ï—Å–ª–∏ —ç—Ç–æ –¥–æ—Ö–æ–¥ –∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–æ–±—Ä–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è:
   - `parentApproved = false`
   - `affectsWallet = false`
5. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `TransactionsRepository.add()`
6. –ï—Å–ª–∏ `affectsWallet = true`:
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `AutoFillService.processAutoFill()`
7. –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è XP —á–µ—Ä–µ–∑ `PlayerProfileRepository.addXp()`:
   - –î–æ—Ö–æ–¥: +10 XP
   - –†–∞—Å—Ö–æ–¥: +5 XP
8. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è UI —á–µ—Ä–µ–∑ `transactionsProvider`

**–†–∞—Å—á—ë—Ç –±–∞–ª–∞–Ω—Å–∞:**
```dart
balance = sum(income transactions where parentApproved && affectsWallet) 
        - sum(expense transactions where parentApproved && affectsWallet)
```

### –õ–æ–≥–∏–∫–∞ –∫–æ–ø–∏–ª–æ–∫

**–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–ª—å, –∏–∫–æ–Ω–∫—É
2. –°–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç `PiggyBank` —Å `currentAmount = 0`
3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `PiggyBanksRepository.add()`
4. –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è +15 XP

**–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∫–æ–ø–∏–ª–∫—É –∏ —Å—É–º–º—É
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ —Å—É–º–º–∞ > 0 –∏ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –æ—Å—Ç–∞–≤—à—É—é—Å—è —Ü–µ–ª—å
3. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `currentAmount`
4. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å: `progress = currentAmount / targetAmount`
5. –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è XP:
   - +5 XP –∑–∞ –∫–∞–∂–¥—ã–µ 10% –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –Ω–æ–≤—ã–π —Ä—É–±–µ–∂)
   - +50 XP –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏ (currentAmount >= targetAmount)
6. –°–æ–∑–¥–∞—ë—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–∞ (–¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏)
7. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è UI

**–ê–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ:**
- –¢—Ä–∏–≥–≥–µ—Ä: –Ω–æ–≤—ã–π –¥–æ—Ö–æ–¥ (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ç–∏–ø–∞ `income`)
- –î–ª—è –∫–∞–∂–¥–æ–π –∫–æ–ø–∏–ª–∫–∏ —Å `autoFillEnabled = true`:
  - –ï—Å–ª–∏ `autoFillType = percent`: `amount = income * autoFillPercent / 100`
  - –ï—Å–ª–∏ `autoFillType = fixed`: `amount = autoFillAmount`
- –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–ø–∏–ª–∫—É (–Ω–æ –Ω–µ –±–æ–ª—å—à–µ —Ü–µ–ª–∏)
- –°–æ–∑–¥–∞—ë—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–∞

### –õ–æ–≥–∏–∫–∞ —É—Ä–æ–≤–Ω–µ–π

**–§–æ—Ä–º—É–ª–∞ —É—Ä–æ–≤–Ω—è:**
```dart
if (xp < 100) return 1;
if (xp < 250) return 2;
if (xp < 450) return 3;
if (xp < 700) return 4;

// –î–ª—è —É—Ä–æ–≤–Ω–µ–π > 4:
level = 4;
requiredXP = 700;
while (xp >= requiredXP) {
  level++;
  requiredXP += (level * 50);
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è:**
1. –ü—Ä–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–∏ XP –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `LevelService.checkLevelUp()`
2. –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–π –∏ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
3. –ï—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å –ø–æ–≤—ã—Å–∏–ª—Å—è:
   - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
   - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ –≤ –ø–∞–º—è—Ç—å –ë–∞—Ä–∏ (`BariActionType.levelUp`)

### –õ–æ–≥–∏–∫–∞ AI (BariSmart)

**–ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞:**

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
   - –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`BariSettingsStore`)
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (`KnowledgePackProvider`)
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π LLM (`LocalLLMProvider`)

2. **–°–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:**
   - `BariContextAdapter.build()` —Å–æ–±–∏—Ä–∞–µ—Ç:
     - –ë–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞
     - –°—É–º–º—É –≤ –∫–æ–ø–∏–ª–∫–∞—Ö
     - –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (10 –∑–∞ 30 –¥–Ω–µ–π)
     - –ë–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è (7 –¥–Ω–µ–π)
     - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–ø–∏–ª–∫–∞—Ö
     - –ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞ (—É—Ä–æ–≤–µ–Ω—å, XP)
     - –ü–∞–º—è—Ç—å –ë–∞—Ä–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –¥–µ–π—Å—Ç–≤–∏–π)

3. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ intent:**
   - `BariIntentDetector.detect()` –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø: smallTalk, appHelp, finance, knowledge, unknown

4. **–ü—Ä–æ–±–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:**
   - –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø—Ä–æ–±—É—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
   - –ï—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å `confidence > 0.7`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–Ω
   - –ò–Ω–∞—á–µ –ø—Ä–æ–±—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä

5. **–õ–æ–∫–∞–ª—å–Ω—ã–π LLM (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –º–æ–¥–µ–ª—å (–µ—Å–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞)
   - –°—Ç—Ä–æ–∏—Ç—Å—è –ø—Ä–æ–º–ø—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ llama.cpp
   - –ü–∞—Ä—Å–∏—Ç—Å—è –æ—Ç–≤–µ—Ç (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ JSON, –æ—á–∏—Å—Ç–∫–∞)

6. **Fallback:**
   - –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ –≤–µ—Ä–Ω—É–ª–∏ –æ—Ç–≤–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `FallbackProvider`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–±—â–∏–π –æ—Ç–≤–µ—Ç —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):**

1. **SmallTalkProvider** ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è, –±–æ–ª—Ç–æ–≤–Ω—è
2. **AppFeaturesProvider** ‚Äî –∑–Ω–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. **SmartMathProvider** ‚Äî —Ä–∞—Å—á—ë—Ç—ã (–ø—Ä–æ—Ü–µ–Ω—Ç—ã, —É–º–Ω–æ–∂–µ–Ω–∏–µ, –ø—Ä–æ–≥–Ω–æ–∑—ã)
4. **GoalAdvisorProvider** ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –ø–æ –∫–æ–ø–∏–ª–∫–∞–º
5. **SpendingRulesProvider** ‚Äî rule-based –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ç
6. **ContextAwareProvider** ‚Äî —É–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
7. **FinanceCoachProvider** ‚Äî —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã
8. **AppHelpProvider** ‚Äî –ø–æ–º–æ—â—å –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
9. **KnowledgePackProvider** ‚Äî –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã)
10. **LocalLLMProvider** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ LLM
11. **FallbackProvider** ‚Äî –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç

### –õ–æ–≥–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `BariNotificationService.scheduleSmartReminders()`
- –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ:**
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 20:00 –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `matchDateTimeComponents: DateTimeComponents.time`
- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

**–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ–±–∑–æ—Ä:**
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 18:00
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `matchDateTimeComponents: DateTimeComponents.dayOfWeekAndTime`
- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

**–ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è:**
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É (–Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –±—É–¥—É—â–µ–µ)
- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:**
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `_onNotificationTapped()`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `MainScreen.tabNotifier.value = 0` –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –±–∞–ª–∞–Ω—Å–∞

### –õ–æ–≥–∏–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π:**
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `AchievementsService.checkAchievements()`
- –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —É—Å–ª–æ–≤–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –ù–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–¢–∏–ø—ã –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π:**
- `first_transaction` ‚Äî –ø–µ—Ä–≤–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
- `first_piggy` ‚Äî –ø–µ—Ä–≤–∞—è –∫–æ–ø–∏–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞
- `level_5`, `level_10` ‚Äî –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
- `streak_7`, `streak_30` ‚Äî —Å–µ—Ä–∏—è –¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- `save_100`, `save_1000` ‚Äî –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Å—É–º–º—ã
- `transactions_10`, `transactions_100` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `self_control_80` ‚Äî –≤—ã—Å–æ–∫–∏–π —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª—å
- –ò –¥—Ä—É–≥–∏–µ...

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- –≠–∫—Ä–∞–Ω –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã–¥–µ–ª–µ–Ω—ã –≤–∏–∑—É–∞–ª—å–Ω–æ (–≥—Ä–∞–¥–∏–µ–Ω—Ç, —Ç–µ–Ω—å)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞—Ç–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### –õ–æ–≥–∏–∫–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

**–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç —Å–æ–±—ã—Ç–∏–µ —Å –¥–∞—Ç–æ–π, —Å—É–º–º–æ–π, —Ç–∏–ø–æ–º
2. –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º—Å—è (daily, weekly, monthly, yearly)
3. –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ –∫–æ–ø–∏–ª–∫–µ (`payoutPiggyBankId`)
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `PlannedEventsRepository.add()`

**–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–í—ã–ø–æ–ª–Ω–µ–Ω–æ"
2. –°–æ–∑–¥–∞—ë—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–∏–ø–∞
3. –ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è:
   - –°–æ–∑–¥–∞—ë—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ —Å –Ω–æ–≤–æ–π –¥–∞—Ç–æ–π
4. –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è +15 XP
5. –°–æ–±—ã—Ç–∏–µ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ `PlannedEventStatus.completed`

**–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:**
- –°–æ–±—ã—Ç–∏—è —Å –ø—Ä–æ—à–µ–¥—à–µ–π –¥–∞—Ç–æ–π –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ `PlannedEventStatus.missed`
- –ë–∞—Ä–∏ –º–æ–∂–µ—Ç –Ω–∞–ø–æ–º–Ω–∏—Ç—å –æ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö

**–ü—Ä–æ–≥–Ω–æ–∑ –±–∞–ª–∞–Ω—Å–∞:**
- –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –±—É–¥—É—â–µ–µ
- –°–æ–±—ã—Ç–∏—è –≤ –∫–æ–ø–∏–ª–∫—É –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞

### –õ–æ–≥–∏–∫–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–¥–æ–±—Ä–µ–Ω–∏—è

**–¢—Ä–∏–≥–≥–µ—Ä:**
- –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Ö–æ–¥–∞ >= 100‚ÇΩ (–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ–¥–∏—Ç–µ–ª—è)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `FinanceRules.requiresParentApproval()`

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å `parentApproved = false`
2. `affectsWallet = false` (–Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –±–∞–ª–∞–Ω—Å)
3. –†–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ "–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∑–æ–Ω–µ"
4. –ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏:
   - `parentApproved = true`
   - `affectsWallet = true`
   - –ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
5. –ü—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏:
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —É–¥–∞–ª—è–µ—Ç—Å—è –∏–ª–∏ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω–∞—è

**PIN —Ä–æ–¥–∏—Ç–µ–ª—è:**
- –•—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ (SHA-256 + salt)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –∑–æ–Ω—É
- –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**flutter_riverpod (3.1.0)**
- State management –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI

**shared_preferences (2.2.2)**
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**flutter_local_notifications (18.0.0)**
- –õ–æ–∫–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**fl_chart (0.69.0)**
- –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã
- –ö—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –õ–∏–Ω–µ–π–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤

**ffi (2.1.0)**
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
- FFI binding –¥–ª—è llama.cpp
- –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ C++ –±–∏–±–ª–∏–æ—Ç–µ–∫

**device_calendar (4.3.3)**
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- –ò–º–ø–æ—Ä—Ç —Å–æ–±—ã—Ç–∏–π –∏–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—è

**table_calendar (3.1.2)**
- –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –≤–∏–¥–∂–µ—Ç
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º

**cached_network_image (3.4.1)**
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**flutter_staggered_animations (1.1.0)**
- –ê–Ω–∏–º–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–æ–≤
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**shimmer (3.0.0)**
- Skeleton screens
- –≠—Ñ—Ñ–µ–∫—Ç –∑–∞–≥—Ä—É–∑–∫–∏

**timezone (0.9.0)**
- –†–∞–±–æ—Ç–∞ —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å —É—á—ë—Ç–æ–º TZ

**intl (0.20.2)**
- –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç –∏ —á–∏—Å–µ–ª

**crypto (3.0.3)**
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ PIN —Ä–æ–¥–∏—Ç–µ–ª—è

**archive (3.4.0)**
- –†–∞–±–æ—Ç–∞ —Å –∞—Ä—Ö–∏–≤–∞–º–∏
- –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏ LLM

### Dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**flutter_lints (6.0.0)**
- –õ–∏–Ω—Ç–µ—Ä –¥–ª—è Dart/Flutter
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –Ω–∞ –æ—à–∏–±–∫–∏

**flutter_test**
- Unit-—Ç–µ—Å—Ç—ã
- Widget-—Ç–µ—Å—Ç—ã

**integration_test**
- Integration-—Ç–µ—Å—Ç—ã
- End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ (–¥–µ—Ç–∞–ª—å–Ω–æ)

### –°—Ö–µ–º–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```
MainScreen
  ‚îú‚îÄ‚îÄ BalanceScreen
  ‚îÇ   ‚îú‚îÄ‚îÄ TransactionsRepository
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StorageService
  ‚îÇ   ‚îú‚îÄ‚îÄ PlayerProfileRepository
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StorageService
  ‚îÇ   ‚îî‚îÄ‚îÄ LevelService
  ‚îÇ       ‚îî‚îÄ‚îÄ NotificationService
  ‚îÇ
  ‚îú‚îÄ‚îÄ PiggyBanksScreen
  ‚îÇ   ‚îú‚îÄ‚îÄ PiggyBanksRepository
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StorageService
  ‚îÇ   ‚îî‚îÄ‚îÄ AutoFillService
  ‚îÇ       ‚îî‚îÄ‚îÄ StorageService
  ‚îÇ
  ‚îú‚îÄ‚îÄ CalendarScreen
  ‚îÇ   ‚îú‚îÄ‚îÄ PlannedEventsRepository
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StorageService
  ‚îÇ   ‚îî‚îÄ‚îÄ CalendarSyncService
  ‚îÇ       ‚îî‚îÄ‚îÄ device_calendar
  ‚îÇ
  ‚îú‚îÄ‚îÄ LessonsScreen
  ‚îÇ   ‚îî‚îÄ‚îÄ StorageService (lesson progress)
  ‚îÇ
  ‚îî‚îÄ‚îÄ BariChatScreen
      ‚îî‚îÄ‚îÄ BariSmart
          ‚îú‚îÄ‚îÄ LocalLLMProvider
          ‚îÇ   ‚îú‚îÄ‚îÄ ModelLoader
          ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StorageService
          ‚îÇ   ‚îî‚îÄ‚îÄ LlamaFFIBinding
          ‚îÇ       ‚îî‚îÄ‚îÄ ffi (–Ω–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
          ‚îú‚îÄ‚îÄ BariContextAdapter
          ‚îÇ   ‚îî‚îÄ‚îÄ StorageService
          ‚îî‚îÄ‚îÄ Various Providers
              ‚îî‚îÄ‚îÄ BariContext
```

### –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:**
```
User Input (BalanceScreen)
  ‚Üì
TransactionsRepository.add()
  ‚Üì
StorageService.addTransaction() [—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ]
  ‚Üì
transactionsProvider.notifyListeners() [–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è]
  ‚Üì
AutoFillService.processAutoFill() [–µ—Å–ª–∏ –¥–æ—Ö–æ–¥]
  ‚Üì
PlayerProfileRepository.addXp(10) [–Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ XP]
  ‚Üì
LevelService.checkLevelUp() [–ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è]
  ‚Üì
NotificationService.scheduleLevelUpNotification() [–µ—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å –ø–æ–≤—ã—Å–∏–ª—Å—è]
  ‚Üì
UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Riverpod
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –ë–∞—Ä–∏:**
```
User Message (BariChatScreen)
  ‚Üì
BariSmart.respond()
  ‚Üì
BariContextAdapter.build() [—Å–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞]
  ‚Üì
StorageService.get*() [–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö]
  ‚Üì
BariIntentDetector.detect() [–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ intent]
  ‚Üì
–ü—Ä–æ–±–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø–æ –ø–æ—Ä—è–¥–∫—É
  ‚Üì
LocalLLMProvider.tryRespond() [–µ—Å–ª–∏ –Ω—É–∂–Ω–æ]
  ‚Üì
ModelLoader.loadModel() [–µ—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞]
  ‚Üì
LlamaFFIBinding.generate() [–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ FFI]
  ‚Üì
llama.cpp (–Ω–∞—Ç–∏–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
  ‚Üì
–û—Ç–≤–µ—Ç –ø–∞—Ä—Å–∏—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
  ‚Üì
BariChatScreen –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –æ—Ç–≤–µ—Ç
```

**–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏:**
```
User Input (PiggyBanksScreen)
  ‚Üì
PiggyBanksRepository.update()
  ‚Üì
StorageService.savePiggyBanks() [—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ]
  ‚Üì
piggyBanksProvider.notifyListeners() [–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è]
  ‚Üì
–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
  ‚Üì
PlayerProfileRepository.addXp() [–Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ XP –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å]
  ‚Üì
–ï—Å–ª–∏ —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞: +50 XP
  ‚Üì
UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

---

## üé® –î–µ—Ç–∞–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (Aurora Theme)

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞:**
- `inkBlue` (#0A1628) ‚Äî —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π —Ñ–æ–Ω
- `spaceBlue` (#1A2B4A) ‚Äî —Å–∏–Ω–∏–π –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
- `neonYellow` (#FFD700) ‚Äî –Ω–µ–æ–Ω–æ–≤—ã–π –∂—ë–ª—Ç—ã–π (–∞–∫—Ü–µ–Ω—Ç—ã)
- `neonBlue` (#00D4FF) ‚Äî –Ω–µ–æ–Ω–æ–≤—ã–π —Å–∏–Ω–∏–π (–∞–∫—Ü–µ–Ω—Ç—ã)
- `neonPurple` (#B794F6) ‚Äî –Ω–µ–æ–Ω–æ–≤—ã–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
- `neonMint` (#4FD1C7) ‚Äî –Ω–µ–æ–Ω–æ–≤—ã–π –º—è—Ç–Ω—ã–π

**–ì—Ä–∞–¥–∏–µ–Ω—Ç—ã:**
- `blueGradient` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –≥—Ä–∞–¥–∏–µ–Ω—Ç (—Å–∏–Ω–∏–π)
- `purpleGradient` ‚Äî —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç
- `mintGradient` ‚Äî –º—è—Ç–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç

**Material 3:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ü–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ `ColorScheme.fromSeed()`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Material 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π/—Ç—ë–º–Ω–æ–π —Ç–µ–º—ã

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI

**–ö–∞—Ä—Ç–æ—á–∫–∏:**
- –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω (`spaceBlue.withValues(alpha: 0.4)`)
- –°–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–µ —É–≥–ª—ã (16px)
- –¢–µ–Ω–∏ –¥–ª—è –≥–ª—É–±–∏–Ω—ã
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–æ–≤

**–ö–Ω–æ–ø–∫–∏:**
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ñ–æ–Ω—ã
- –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
- Haptic feedback
- –ò–∫–æ–Ω–∫–∏ —Å —Ç–µ–∫—Å—Ç–æ–º

**–°–ø–∏—Å–∫–∏:**
- Swipe actions (—Å–≤–∞–π–ø –≤–ª–µ–≤–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è)
- Drag & drop (–ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ)
- Skeleton screens –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- Empty states —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏

**–î–∏–∞–ª–æ–≥–∏:**
- –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω
- –°–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–µ —É–≥–ª—ã (16px)
- –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
- Material 3 —Å—Ç–∏–ª—å

### –ê–Ω–∏–º–∞—Ü–∏–∏

**Hero –∞–Ω–∏–º–∞—Ü–∏–∏:**
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –∫–æ–ø–∏–ª–æ–∫, —Å–æ–±—ã—Ç–∏–π
- –¢–µ–≥–∏: `transaction_${id}`, `piggy_${id}`

**Shared Axis Transitions:**
- Material 3 –ø–µ—Ä–µ—Ö–æ–¥—ã
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**AnimatedListView:**
- –ê–Ω–∏–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ê–Ω–∏–º–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ (staggered)

**Haptic Feedback:**
- –õ–µ–≥–∫–∏–π —É–¥–∞—Ä –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
- –°—Ä–µ–¥–Ω–∏–π —É–¥–∞—Ä –ø—Ä–∏ –≤–∞–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö
- –¢—è–∂—ë–ª—ã–π —É–¥–∞—Ä –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ –æ–±–ª–∞–∫–∞)
- –ù–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä—ã
- PIN —Ä–æ–¥–∏—Ç–µ–ª—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ PIN

```dart
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–ª–∏
final salt = utf8.encode(Uuid().v4());

// –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ PIN
final bytes = utf8.encode(pin + salt.toString());
final hash = sha256.convert(bytes);

// –•—Ä–∞–Ω–µ–Ω–∏–µ: hash + salt (–æ—Ç–¥–µ–ª—å–Ω–æ)
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–≤–æ–¥—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è
- –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —Å—É–º–º
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**RepaintBoundary:**
- –û–±—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –≤–∏–¥–∂–µ—Ç–æ–≤
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫, –≥—Ä–∞—Ñ–∏–∫–æ–≤

**Lazy Loading:**
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–æ–≤ –ø–æ —á–∞—Å—Ç—è–º
- `ListView.builder` –≤–º–µ—Å—Ç–æ `ListView`
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –ö—ç—à –¥–∞–Ω–Ω—ã—Ö –≤ `StorageService` (TTL 5 —Å–µ–∫—É–Ω–¥)
- –ö—ç—à –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ `cached_network_image`
- –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Riverpod

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏:**
- –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ dispose
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π LLM
- –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**Performance Monitor:**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ FPS
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üåê –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (–¥–µ—Ç–∞–ª—å–Ω–æ)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ARB —Ñ–∞–π–ª–æ–≤

**app_ru.arb (–æ—Å–Ω–æ–≤–Ω–æ–π, template):**
- –í—Å–µ –∫–ª—é—á–∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- –û–ø–∏—Å–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏

**app_en.arb, app_de.arb:**
- –ü–µ—Ä–µ–≤–æ–¥—ã –≤—Å–µ—Ö –∫–ª—é—á–µ–π
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ app_ru.arb

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–î–∞—Ç—ã:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `LocalizedDateFormatter`
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –ª–æ–∫–∞–ª–∏
- –ö–æ—Ä–æ—Ç–∫–∏–π –∏ –¥–ª–∏–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

**–ß–∏—Å–ª–∞:**
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç —á–µ—Ä–µ–∑ `MoneyFormatter`
- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —Ç—ã—Å—è—á, –¥–µ—Å—è—Ç–∏—á–Ω—ã–µ –∑–Ω–∞–∫–∏
- –°–∏–º–≤–æ–ª –≤–∞–ª—é—Ç—ã

**–ü—Ä–æ—Ü–µ–Ω—Ç—ã:**
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `intl` –ø–∞–∫–µ—Ç
- –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

**Unit-—Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

**Widget-—Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π

**Integration-—Ç–µ—Å—Ç—ã:**
- End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –ü–æ–∫—Ä—ã—Ç–∏–µ

- –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏
- –ö—Ä–∏—Ç–∏—á–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

---

## üì± –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### Android

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Android 7.0 (API 24)
- ARM64 –∏–ª–∏ x86_64 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ~500 MB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ (–¥–ª—è –º–æ–¥–µ–ª–∏ LLM)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ:**
- Android 10+ (API 29+)
- 2 GB RAM
- ~1 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### iOS

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- iOS 12.0
- ARM64 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ~500 MB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ:**
- iOS 14.0+
- 2 GB RAM
- ~1 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ

1. **–£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ LLM**
   - –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π

2. **–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
   - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
   - –£–ª—É—á—à–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å–µ–º–µ–π–Ω—ã–π —Ä–µ–∂–∏–º)

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ LLM
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
   - –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - –û—Ñ–ª–∞–π–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

4. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ**
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö —è–∑—ã–∫–æ–≤
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∞–ª—é—Ç—ã
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–Ω–∫–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üîå –î–µ—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### –ò–µ—Ä–∞—Ä—Ö–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```
Application Layer (UI)
  ‚îú‚îÄ‚îÄ Screens
  ‚îÇ   ‚îú‚îÄ‚îÄ MainScreen
  ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BalanceScreen
  ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PiggyBanksScreen
  ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CalendarScreen
  ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LessonsScreen
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SettingsScreen
  ‚îÇ   ‚îî‚îÄ‚îÄ BariChatScreen
  ‚îÇ
  ‚îú‚îÄ‚îÄ State Management (Riverpod)
  ‚îÇ   ‚îú‚îÄ‚îÄ playerProfileProvider ‚Üí PlayerProfileNotifier
  ‚îÇ   ‚îú‚îÄ‚îÄ transactionsProvider ‚Üí TransactionsNotifier
  ‚îÇ   ‚îú‚îÄ‚îÄ piggyBanksProvider ‚Üí PiggyBanksNotifier
  ‚îÇ   ‚îî‚îÄ‚îÄ plannedEventsProvider ‚Üí PlannedEventsNotifier
  ‚îÇ
  ‚îú‚îÄ‚îÄ Repository Layer
  ‚îÇ   ‚îú‚îÄ‚îÄ PlayerProfileRepository
  ‚îÇ   ‚îú‚îÄ‚îÄ TransactionsRepository
  ‚îÇ   ‚îú‚îÄ‚îÄ PiggyBanksRepository
  ‚îÇ   ‚îî‚îÄ‚îÄ PlannedEventsRepository
  ‚îÇ
  ‚îî‚îÄ‚îÄ Service Layer
      ‚îú‚îÄ‚îÄ StorageService (—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ)
      ‚îú‚îÄ‚îÄ NotificationService
      ‚îú‚îÄ‚îÄ LevelService
      ‚îú‚îÄ‚îÄ AutoFillService
      ‚îú‚îÄ‚îÄ AchievementsService
      ‚îî‚îÄ‚îÄ BariNotificationService

AI Layer (BariSmart)
  ‚îú‚îÄ‚îÄ BariSmart (–≥–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å)
  ‚îÇ   ‚îú‚îÄ‚îÄ BariSettingsStore
  ‚îÇ   ‚îú‚îÄ‚îÄ KnowledgePackProvider
  ‚îÇ   ‚îî‚îÄ‚îÄ LocalLLMProvider
  ‚îÇ       ‚îú‚îÄ‚îÄ ModelLoader
  ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ModelVersionManager
  ‚îÇ       ‚îú‚îÄ‚îÄ LlamaFFIBinding
  ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ffi (–Ω–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
  ‚îÇ       ‚îî‚îÄ‚îÄ ChatHistoryService
  ‚îÇ
  ‚îú‚îÄ‚îÄ BariContextAdapter
  ‚îÇ   ‚îî‚îÄ‚îÄ StorageService (–¥–ª—è —Å–±–æ—Ä–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
  ‚îÇ
  ‚îî‚îÄ‚îÄ Providers (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞)
      ‚îú‚îÄ‚îÄ SmallTalkProvider
      ‚îú‚îÄ‚îÄ AppFeaturesProvider
      ‚îú‚îÄ‚îÄ SmartMathProvider
      ‚îú‚îÄ‚îÄ GoalAdvisorProvider
      ‚îú‚îÄ‚îÄ SpendingRulesProvider
      ‚îú‚îÄ‚îÄ ContextAwareProvider
      ‚îú‚îÄ‚îÄ FinanceCoachProvider
      ‚îú‚îÄ‚îÄ AppHelpProvider
      ‚îú‚îÄ‚îÄ KnowledgePackProvider
      ‚îú‚îÄ‚îÄ LocalLLMProvider
      ‚îî‚îÄ‚îÄ FallbackProvider
```

### –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–¥–µ—Ç–∞–ª—å–Ω–æ)

#### –ü–æ—Ç–æ–∫ 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞

```
1. User –≤–≤–æ–¥–∏—Ç —Å—É–º–º—É –≤ BalanceScreen
   ‚Üì
2. BalanceScreen –≤—ã–∑—ã–≤–∞–µ—Ç TransactionsRepository.add()
   ‚Üì
3. TransactionsRepository:
   - –°–æ–∑–¥–∞—ë—Ç Transaction –æ–±—ä–µ–∫—Ç
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è
   - –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è: parentApproved = false, affectsWallet = false
   ‚Üì
4. StorageService.addTransaction()
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ SharedPreferences
   - –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫—ç—à
   - –û–±–Ω–æ–≤–ª—è–µ—Ç transactionsVersion
   ‚Üì
5. –ï—Å–ª–∏ affectsWallet = true:
   - AutoFillService.processAutoFill()
     - –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –∫–æ–ø–∏–ª–∫–∏ —Å autoFillEnabled
     - –î–ª—è –∫–∞–∂–¥–æ–π –≤—ã—á–∏—Å–ª—è–µ—Ç —Å—É–º–º—É –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
     - –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–ø–∏–ª–∫–∏
     - –°–æ–∑–¥–∞—ë—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
   ‚Üì
6. PlayerProfileRepository.addXp()
   - –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å
   - –î–æ–±–∞–≤–ª—è–µ—Ç XP (10 –¥–ª—è –¥–æ—Ö–æ–¥–∞, 5 –¥–ª—è —Ä–∞—Å—Ö–æ–¥–∞)
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å
   ‚Üì
7. LevelService.checkLevelUp()
   - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–π –∏ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
   - –ï—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å –ø–æ–≤—ã—Å–∏–ª—Å—è:
     - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
     - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –ø–∞–º—è—Ç—å –ë–∞—Ä–∏
   ‚Üì
8. transactionsProvider.refresh()
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ Riverpod
   ‚Üì
9. UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
```

#### –ü–æ—Ç–æ–∫ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –ë–∞—Ä–∏

```
1. User –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ BariChatScreen
   ‚Üì
2. BariChatScreen –≤—ã–∑—ã–≤–∞–µ—Ç BariSmart.respond()
   ‚Üì
3. BariSmart –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (BariSettingsStore)
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç KnowledgePackProvider
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç LocalLLMProvider
   ‚Üì
4. BariContextAdapter.build()
   - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ:
     - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (StorageService.getTransactions())
     - –ö–æ–ø–∏–ª–∫–∏ (StorageService.getPiggyBanks())
     - –°–æ–±—ã—Ç–∏—è (StorageService.getPlannedEvents())
     - –ü—Ä–æ—Ñ–∏–ª—å (StorageService.getPlayerProfile())
     - –ü–∞–º—è—Ç—å –ë–∞—Ä–∏ (StorageService.getBariMemory())
   - –í—ã—á–∏—Å–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞
   - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –±–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è
   - –°–æ–∑–¥–∞—ë—Ç BariContext –æ–±—ä–µ–∫—Ç
   ‚Üì
5. BariIntentDetector.detect()
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç intent (smallTalk, finance, knowledge, etc.)
   ‚Üì
6. –ü—Ä–æ–±–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø–æ –ø–æ—Ä—è–¥–∫—É:
   
   a) SmallTalkProvider.tryRespond()
      - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º
      - –ï—Å–ª–∏ –¥–∞: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç (confidence > 0.7)
      - –ï—Å–ª–∏ –Ω–µ—Ç: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null
   
   b) AppFeaturesProvider.tryRespond()
      - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ —Ñ—É–Ω–∫—Ü–∏—è—Ö
      - –ï—Å–ª–∏ –¥–∞: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π
      - –ï—Å–ª–∏ –Ω–µ—Ç: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null
   
   c) ... (–¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã)
   
   d) LocalLLMProvider.tryRespond()
      - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏
      - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥–µ–ª—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
      - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–µ—Å—Å–∏—é (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
      - –°—Ç—Ä–æ–∏—Ç –ø—Ä–æ–º–ø—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
      - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ llama.cpp
      - –ü–∞—Ä—Å–∏—Ç –æ—Ç–≤–µ—Ç (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ JSON)
      - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç BariResponse
   ‚Üì
7. –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤–µ—Ä–Ω—É–ª–∏ null –∏–ª–∏ confidence < 0.7:
   - –ü—Ä–æ–±—É–µ—Ç—Å—è OnlineReferenceProvider (–µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω –æ–Ω–ª–∞–π–Ω-—Ä–µ–∂–∏–º)
   - –ü—Ä–æ–±—É–µ—Ç—Å—è SystemAssistantProvider (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è FallbackProvider (–≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç)
   ‚Üì
8. BariChatScreen –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –æ—Ç–≤–µ—Ç
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ UI
```

#### –ü–æ—Ç–æ–∫ 3: –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏

```
1. User –≤—ã–±–∏—Ä–∞–µ—Ç –∫–æ–ø–∏–ª–∫—É –∏ —Å—É–º–º—É –≤ PiggyBanksScreen
   ‚Üì
2. PiggyBanksScreen –≤—ã–∑—ã–≤–∞–µ—Ç PiggyBanksRepository.upsert()
   ‚Üì
3. PiggyBanksRepository:
   - –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫ –∫–æ–ø–∏–ª–æ–∫
   - –ù–∞—Ö–æ–¥–∏—Ç –∫–æ–ø–∏–ª–∫—É –ø–æ ID
   - –û–±–Ω–æ–≤–ª—è–µ—Ç currentAmount
   - –í—ã—á–∏—Å–ª—è–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
   ‚Üì
4. StorageService.savePiggyBanks()
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –∫–æ–ø–∏–ª–∫–∏
   - –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫—ç—à
   - –û–±–Ω–æ–≤–ª—è–µ—Ç piggyBanksVersion
   ‚Üì
5. –°–æ–∑–¥–∞—ë—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–∞:
   - Transaction(
     type: expense,
     amount: —Å—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è,
     piggyBankId: ID –∫–æ–ø–∏–ª–∫–∏,
     source: TransactionSource.piggyBank,
   )
   ‚Üì
6. TransactionsRepository.add()
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
   ‚Üì
7. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ XP:
   - –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–æ –∏ –ø–æ—Å–ª–µ
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è, –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏ –Ω–æ–≤—ã–π —Ä—É–±–µ–∂ (10%, 20%, etc.)
   - –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è +5 XP –∑–∞ –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π —Ä—É–±–µ–∂
   - –ï—Å–ª–∏ —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞: +50 XP
   ‚Üì
8. PlayerProfileRepository.addXp()
   - –ù–∞—á–∏—Å–ª—è–µ—Ç XP
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
   ‚Üì
9. piggyBanksProvider.refresh()
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
   ‚Üì
10. UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

---

## üß© –î–µ—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

### SmallTalkProvider

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π –∏ –±–æ–ª—Ç–æ–≤–Ω–∏.

**–õ–æ–≥–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –æ—Ç–≤–µ—Ç
- Confidence: 0.8-0.9

**–ü—Ä–∏–º–µ—Ä—ã:**
- "–ø—Ä–∏–≤–µ—Ç" ‚Üí "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞ —Å –¥–µ–Ω—å–≥–∞–º–∏?"
- "–∫–∞–∫ –¥–µ–ª–∞" ‚Üí "–í—Å—ë –æ—Ç–ª–∏—á–Ω–æ! –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Å —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏"

### AppFeaturesProvider

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–Ω–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–õ–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `BariFeaturesHub.getFeaturesByCategory()`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –ú–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
- Confidence: 0.85

**–ü—Ä–∏–º–µ—Ä—ã:**
- "—á—Ç–æ —Ç—ã —É–º–µ–µ—à—å" ‚Üí —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- "–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã" ‚Üí —Å–ø–∏—Å–æ–∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–≤

### SmartMathProvider

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á—ë—Ç—ã.

**–õ–æ–≥–∏–∫–∞:**
- –†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞—Å—á—ë—Ç—ã (–ø—Ä–æ—Ü–µ–Ω—Ç—ã, —É–º–Ω–æ–∂–µ–Ω–∏–µ, –¥–µ–ª–µ–Ω–∏–µ)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º
- Confidence: 0.9

**–ü—Ä–∏–º–µ—Ä—ã:**
- "—Å–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 20% –æ—Ç 100" ‚Üí "20% –æ—Ç 100 = 20"
- "100 —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 5" ‚Üí "100 √ó 5 = 500"

### GoalAdvisorProvider

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –ø–æ –∫–æ–ø–∏–ª–∫–∞–º.

**–õ–æ–≥–∏–∫–∞:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–ø–∏–ª–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–∞—ë—Ç —Å–æ–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö (–±–ª–∏–∑–∫–∏–π –¥–µ–¥–ª–∞–π–Ω, –Ω–∏–∑–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å)
- Confidence: 0.8-0.9

**–ü—Ä–∏–º–µ—Ä—ã:**
- "–º–æ–∏ –∫–æ–ø–∏–ª–∫–∏" ‚Üí –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –∫–æ–ø–∏–ª–æ–∫
- "–∫–∞–∫—É—é –∫–æ–ø–∏–ª–∫—É –ø–æ–ø–æ–ª–Ω–∏—Ç—å" ‚Üí —Å–æ–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤

### SpendingRulesProvider

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Rule-based –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ç.

**–õ–æ–≥–∏–∫–∞:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ç—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
- –í—ã—á–∏—Å–ª—è–µ—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ç—Ä–∞—Ç –∫ –¥–æ—Ö–æ–¥–∞–º
- –î–∞—ë—Ç —Å–æ–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–≤–∏–ª:
  - –¢—Ä–∞—Ç—ã > 90% –¥–æ—Ö–æ–¥–∞ ‚Üí –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
  - –¢—Ä–∞—Ç—ã > 70% –¥–æ—Ö–æ–¥–∞ ‚Üí —Å–æ–≤–µ—Ç —ç–∫–æ–Ω–æ–º–∏—Ç—å
  - –¢—Ä–∞—Ç—ã < 70% –¥–æ—Ö–æ–¥–∞ ‚Üí –ø–æ—Ö–≤–∞–ª–∞
- Confidence: 0.85

**–ü—Ä–∏–º–µ—Ä—ã:**
- "–∫—É–¥–∞ —É—Ö–æ–¥—è—Ç –º–æ–∏ –¥–µ–Ω—å–≥–∏" ‚Üí –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ç
- "–ø–æ—á–µ–º—É –∫–æ–Ω—á–∞—é—Ç—Å—è –¥–µ–Ω—å–≥–∏" ‚Üí –∞–Ω–∞–ª–∏–∑ –∏ —Å–æ–≤–µ—Ç—ã

### ContextAwareProvider

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

**–õ–æ–≥–∏–∫–∞:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â–∏–π —ç–∫—Ä–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç (–±–∞–ª–∞–Ω—Å, –∫–æ–ø–∏–ª–∫–∏, —Å–æ–±—ã—Ç–∏—è)
- –î–∞—ë—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
- Confidence: 0.75-0.85

**–ü—Ä–∏–º–µ—Ä—ã:**
- –ù–∞ —ç–∫—Ä–∞–Ω–µ –±–∞–ª–∞–Ω—Å–∞: "–í–∏–∂—É, —É —Ç–µ–±—è —Ö–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å!"
- –ù–∞ —ç–∫—Ä–∞–Ω–µ –∫–æ–ø–∏–ª–æ–∫: "–û—Ç–ª–∏—á–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫–æ–ø–∏–ª–∫–∞–º!"

### FinanceCoachProvider

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ —Å–æ–≤–µ—Ç—ã.

**–õ–æ–≥–∏–∫–∞:**
- –†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–≤–∏–ª –∏ —à–∞–±–ª–æ–Ω–æ–≤
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á
- Confidence: 0.8-0.9

**–ü—Ä–∏–º–µ—Ä—ã:**
- "–º–æ–∂–Ω–æ –ª–∏ –∫—É–ø–∏—Ç—å –∑–∞ 20‚Ç¨" ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –∏ —Å–æ–≤–µ—Ç
- "—á—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω—Ñ–ª—è—Ü–∏—è" ‚Üí –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–æ–Ω—è—Ç–∏—è

### LocalLLMProvider

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã–π LLM.

**–õ–æ–≥–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏
2. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥–µ–ª—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–µ—Å—Å–∏—é (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
4. –°—Ç—Ä–æ–∏—Ç –ø—Ä–æ–º–ø—Ç:
   - –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (—Ä–æ–ª—å, –ø—Ä–∞–≤–∏–ª–∞, –∫–æ–Ω—Ç–µ–∫—Å—Ç)
   - –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
5. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ llama.cpp
6. –ü–∞—Ä—Å–∏—Ç –æ—Ç–≤–µ—Ç (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ JSON, –æ—á–∏—Å—Ç–∫–∞)
7. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç BariResponse

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—Å–µ—Ö –æ—Ñ–ª–∞–π–Ω –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –≤–µ—Ä–Ω—É–ª–∏ –æ—Ç–≤–µ—Ç —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é.

### OnlineReferenceProvider

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ (Wikipedia, DuckDuckGo).

**–õ–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
  - –í–∫–ª—é—á—ë–Ω –æ–Ω–ª–∞–π–Ω-—Ä–µ–∂–∏–º (`BariMode.online`)
  - –ò–ª–∏ hybrid-—Ä–µ–∂–∏–º —Å intent `onlineReference`
  - –ò–ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ `forceOnline`
- –ò—â–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ Wikipedia –∏ DuckDuckGo
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Å–ª–µ LocalLLMProvider, –µ—Å–ª–∏ –æ–Ω–ª–∞–π–Ω-—Ä–µ–∂–∏–º –≤–∫–ª—é—á—ë–Ω.

### SystemAssistantProvider

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

**–õ–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –û–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–µ—Ä–µ–¥ FallbackProvider.

**–ü—Ä–æ–º–ø—Ç –≤–∫–ª—é—á–∞–µ—Ç:**
- –†–æ–ª—å –ë–∞—Ä–∏ (—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –¥–µ—Ç–µ–π)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–±–∞–ª–∞–Ω—Å, –∫–æ–ø–∏–ª–∫–∏, —É—Ä–æ–≤–µ–Ω—å)
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ë–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è
- –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- Few-shot –ø—Ä–∏–º–µ—Ä—ã

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- `maxTokens`: 200-600 (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–¥–∞—á–∏)
- `temperature`: 0.7 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è chat history –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

---

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (Riverpod)

### –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è

**AsyncNotifierProvider:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç loading/error —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ü—Ä–∏–º–µ—Ä—ã: `playerProfileProvider`, `transactionsProvider`

**StateNotifierProvider:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã
- –ü—Ä–∏–º–µ—Ä—ã: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –º–æ–≥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º—ã–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ref.watch()` –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ref.read()` –¥–ª—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–≥–æ —á—Ç–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä:**
```dart
// playerProfileProvider –∑–∞–≤–∏—Å–∏—Ç –æ—Ç playerProfileVersionProvider
ref.watch(playerProfileVersionProvider);

// –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª—å
```

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

**StorageService –∫—ç—à:**
- –ö—ç—à –≤ –ø–∞–º—è—Ç–∏ –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- TTL: 5 —Å–µ–∫—É–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**Riverpod –∫—ç—à:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞–º–∏
- –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ `ref.invalidate()`

---

## üì± –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–¥–µ—Ç–∞–ª—å–Ω–æ)

### –ù–∞–≤–∏–≥–∞—Ü–∏—è

**MainScreen:**
- Bottom Navigation Bar (5 –≤–∫–ª–∞–¥–æ–∫)
- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –ë–∞—Ä–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤

**–ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Navigator.push()`
- Hero –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–ª–∞–≤–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- Shared Axis Transitions –¥–ª—è Material 3

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI

**–ö–∞—Ä—Ç–æ—á–∫–∏ (AuroraTheme.glassCard):**
- –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω
- –°–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–µ —É–≥–ª—ã (16px)
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã
- –¢–µ–Ω–∏ –¥–ª—è –≥–ª—É–±–∏–Ω—ã

**–ö–Ω–æ–ø–∫–∏:**
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ñ–æ–Ω—ã
- –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
- Haptic feedback
- –ò–∫–æ–Ω–∫–∏ —Å —Ç–µ–∫—Å—Ç–æ–º

**–°–ø–∏—Å–∫–∏:**
- `AnimatedListView` –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
- `SwipeableListItem` –¥–ª—è swipe actions
- `DraggableListItem` –¥–ª—è drag & drop
- `PaginatedListView` –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

**–î–∏–∞–ª–æ–≥–∏:**
- Material 3 —Å—Ç–∏–ª—å
- –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω
- –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
- –°–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–µ —É–≥–ª—ã

### –ì—Ä–∞—Ñ–∏–∫–∏

**SpendingChartWidget:**
- –ö—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã (fl_chart)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–ø-5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –õ–µ–≥–µ–Ω–¥–∞ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
- Badge –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤ (< 5%)

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- `RepaintBoundary` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- Lazy loading –¥–∞–Ω–Ω—ã—Ö

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–¥–µ—Ç–∞–ª—å–Ω–æ)

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ SharedPreferences
- –ù–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä—ã
- –ü–æ–ª–Ω–∞—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å

**–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ PIN:**
```dart
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–ª–∏
final salt = utf8.encode(Uuid().v4());

// –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
final bytes = utf8.encode(pin + salt.toString());
final hash = sha256.convert(bytes);

// –•—Ä–∞–Ω–µ–Ω–∏–µ
await prefs.setString('parent_pin', hash.toString());
await prefs.setString('parent_pin_salt', salt.toString());
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ PIN:**
```dart
// –ó–∞–≥—Ä—É–∑–∫–∞ —Ö–µ—à–∞ –∏ —Å–æ–ª–∏
final storedHash = prefs.getString('parent_pin');
final salt = prefs.getString('parent_pin_salt');

// –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–µ–¥—ë–Ω–Ω–æ–≥–æ PIN
final inputBytes = utf8.encode(inputPin + salt);
final inputHash = sha256.convert(inputBytes);

// –°—Ä–∞–≤–Ω–µ–Ω–∏–µ
return inputHash.toString() == storedHash;
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è

**–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ > 0
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–æ–¥–∞

**–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ JSON
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–¥–µ—Ç–∞–ª—å–Ω–æ)

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ UI

**RepaintBoundary:**
- –û–±—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –≤–∏–¥–∂–µ—Ç–æ–≤
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫, –≥—Ä–∞—Ñ–∏–∫–æ–≤, —Å–ø–∏—Å–∫–æ–≤

**Lazy Loading:**
- `ListView.builder` –≤–º–µ—Å—Ç–æ `ListView`
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ —á–∞—Å—Ç—è–º
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –ö—ç—à –≤ `StorageService` (TTL 5 —Å–µ–∫—É–Ω–¥)
- –ö—ç—à –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ `cached_network_image`
- –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Riverpod

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ AI

**–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏:**
- –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Ç–∏ –∫ –º–æ–¥–µ–ª–∏
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏:**
- –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ dispose
- –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ LLM

---

## üåê –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (–¥–µ—Ç–∞–ª—å–Ω–æ)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ARB

**app_ru.arb (template):**
- –í—Å–µ –∫–ª—é—á–∏ —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
- –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–§–æ—Ä–º–∞—Ç –∫–ª—é—á–µ–π:**
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –º–æ–¥—É–ª—è–º: `balance_*`, `piggyBanks_*`, `calendar_*`
- –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞: `balance_addIncome`, `piggyBanks_create`

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è:**
```json
{
  "greeting": "–ü—Ä–∏–≤–µ—Ç, {name}!",
  "@greeting": {
    "placeholders": {
      "name": {"type": "String"}
    }
  }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–í –∫–æ–¥–µ:**
```dart
final l10n = AppLocalizations.of(context)!;
Text(l10n.greeting('–ò–≤–∞–Ω'))
```

**–ë–µ–∑ BuildContext:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ `_getLocalizedString()`
- –•–∞—Ä–¥–∫–æ–¥–Ω–∞—è –∫–∞—Ä—Ç–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `NotificationService`

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–µ—Ç–∞–ª—å–Ω–æ)

### Unit-—Ç–µ—Å—Ç—ã

**–°–µ—Ä–≤–∏—Å—ã:**
- `LevelService` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
- `AutoFillService` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
- `AchievementsService` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
- `SpendingRulesProvider` ‚Äî –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ç
- `GoalAdvisorProvider` ‚Äî —Å–æ–≤–µ—Ç—ã –ø–æ –∫–æ–ø–∏–ª–∫–∞–º
- `FinanceCoachProvider` ‚Äî —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Widget-—Ç–µ—Å—Ç—ã

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `TransactionItem` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `SpendingChartWidget` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- `AuroraButton` ‚Äî –∫–Ω–æ–ø–∫–∏

### Integration-—Ç–µ—Å—Ç—ã

**–ü–æ—Ç–æ–∫–∏:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –ë–∞—Ä–∏
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏

---

## üì± –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã (–¥–µ—Ç–∞–ª—å–Ω–æ)

### Android

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è: Android 7.0 (API 24)
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: ARM64 –∏–ª–∏ x86_64
- RAM: –º–∏–Ω–∏–º—É–º 2 GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4 GB)
- –•—Ä–∞–Ω–∏–ª–∏—â–µ: ~500 MB –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è + ~350 MB –¥–ª—è –º–æ–¥–µ–ª–∏

**–ù–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- `libllama.so` –¥–ª—è ARM64
- `libllama.so` –¥–ª—è x86_64
- –†–∞–∑–º–µ—â–µ–Ω–∏–µ: `android/app/src/main/jniLibs/`

### iOS

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è: iOS 12.0
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: ARM64
- RAM: –º–∏–Ω–∏–º—É–º 2 GB
- –•—Ä–∞–Ω–∏–ª–∏—â–µ: ~500 MB –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è + ~350 MB –¥–ª—è –º–æ–¥–µ–ª–∏

**–ù–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- `llama.framework` (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π)
- –†–∞–∑–º–µ—â–µ–Ω–∏–µ: `ios/Frameworks/`

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–¥–µ—Ç–∞–ª—å–Ω–æ)

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-3 –º–µ—Å—è—Ü–∞)

1. **–£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ LLM**
   - –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - –£–ª—É—á—à–µ–Ω–∏–µ few-shot –ø—Ä–∏–º–µ—Ä–æ–≤

2. **–ù–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è**
   - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Å–µ—Ä–∏–∏
   - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —ç–∫–æ–Ω–æ–º–∏—é
   - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –æ–±—É—á–µ–Ω–∏–µ

3. **–£–ª—É—á—à–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
   - –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
   - –£–º–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (3-6 –º–µ—Å—è—Ü–µ–≤)

1. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**
   - –ì—Ä–∞—Ñ–∏–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤
   - –ü—Ä–æ–≥–Ω–æ–∑—ã –Ω–∞ –±—É–¥—É—â–µ–µ

2. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
   - –°–µ–º–µ–π–Ω—ã–π —Ä–µ–∂–∏–º
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–∑—å—è–º–∏
   - –°–æ–≤–º–µ—Å—Ç–Ω—ã–µ —Ü–µ–ª–∏

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±–∞–Ω–∫–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
   - –ò–º–ø–æ—Ä—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (6+ –º–µ—Å—è—Ü–µ–≤)

1. **–ù–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ LLM**
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Llama 4
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
   - –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å

2. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**
   - –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ (–¥–ª—è —Å—Ç–∞—Ä—à–∏—Ö –¥–µ—Ç–µ–π)
   - –ö—Ä–µ–¥–∏—Ç—ã –∏ –∑–∞–π–º—ã (–æ–±—É—á–µ–Ω–∏–µ)
   - –ë–∏–∑–Ω–µ—Å-—Å–∏–º—É–ª—è—Ü–∏—è

3. **–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è**
   - –ú–∏–Ω–∏-–∏–≥—Ä—ã
   - –ö–≤–µ—Å—Ç—ã
   - –°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –Ø–Ω–≤–∞—Ä—å 2025*
