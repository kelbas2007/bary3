# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï TODO –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í

**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ TODO –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

---

## üìã –ó–ê–î–ê–ß–ê

–ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–∑ `PROBLEMS_SUMMARY.md`:
1. TODO –≤ `monthly_budget_calculator.dart` - –∫–Ω–æ–ø–∫–∞ "–°–¥–µ–ª–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂" –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
2. TODO –≤ `settings_screen.dart` - –ø—Ä–∏ —Å–±—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è PIN

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. **MonthlyBudgetCalculator** (`lib/screens/calculators/monthly_budget_calculator.dart`)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ö–Ω–æ–ø–∫–∞ "–°–¥–µ–ª–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂" –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ —Ç–æ–ª—å–∫–æ SnackBar —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "–ß–µ–ª–ª–µ–Ω–¥–∂ —Å–æ–∑–¥–∞–Ω!"
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ –±—ã–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- –í–≤–æ–¥–∏–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –£–±—Ä–∞–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–°–¥–µ–ª–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂" –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚úÖ –£–¥–∞–ª–µ–Ω TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- ‚úÖ UI —Å—Ç–∞–ª —á–∏—â–µ –∏ –Ω–µ –≤–≤–æ–¥–∏—Ç –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```dart
// –ë–´–õ–û:
ElevatedButton.icon(
  onPressed: () {
    // TODO: —Å–æ–∑–¥–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂
    ScaffoldMessenger.of(context).showSnackBar(
      const SnackBar(content: Text('–ß–µ–ª–ª–µ–Ω–¥–∂ —Å–æ–∑–¥–∞–Ω!')),
    );
  },
  icon: const Icon(Icons.emoji_events),
  label: const Text('–°–¥–µ–ª–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂'),
),

// –°–¢–ê–õ–û:
// –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∞
```

---

### 2. **SettingsScreen** (`lib/screens/settings_screen.dart`)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–∏ —Å–±—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª—Å—è PIN
- –†–∏—Å–∫ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∑–∞–ø—Ä–æ—Å PIN –ø–µ—Ä–µ–¥ —Å–±—Ä–æ—Å–æ–º –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ï—Å–ª–∏ PIN —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–≤–æ–¥ PIN –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- ‚úÖ –ï—Å–ª–∏ PIN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–±—ã—á–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ `mounted` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```dart
// –ë–´–õ–û:
Future<void> _showResetDialog() {
  showDialog(
    context: context,
    builder: (context) => AlertDialog(
      // ...
      ElevatedButton(
        onPressed: () async {
          // TODO: –∑–∞–ø—Ä–æ—Å–∏—Ç—å PIN
          await StorageService.resetAllData();
          // ...
        },
      ),
    ),
  );
}

// –°–¢–ê–õ–û:
Future<void> _showResetDialog() async {
  if (!mounted) return;
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ PIN
  final hasPin = await StorageService.hasParentPin();
  if (!mounted) return;
  
  if (!hasPin) {
    // –ï—Å–ª–∏ PIN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—ã—á–Ω—ã–π –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
    // —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º
  } else {
    // –ï—Å–ª–∏ PIN —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –µ–≥–æ
    final pinController = TextEditingController();
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        // ...
        TextField(
          controller: pinController,
          keyboardType: TextInputType.number,
          obscureText: true,
          maxLength: 4,
          // ...
        ),
        ElevatedButton(
          onPressed: () async {
            final isValid = await StorageService.verifyParentPin(pinController.text);
            if (!context.mounted) return;
            if (isValid) {
              Navigator.pop(context, true);
            } else {
              ScaffoldMessenger.of(context).showSnackBar(
                const SnackBar(content: Text('–ù–µ–≤–µ—Ä–Ω—ã–π PIN')),
              );
            }
          },
        ),
      ),
    );
    
    pinController.dispose();
    
    if (confirmed == true) {
      await StorageService.resetAllData();
      // ...
    }
  }
}
```

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

1. **–ï—Å–ª–∏ PIN —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –≤–≤–æ–¥ PIN –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - –ù–µ–≤–µ—Ä–Ω—ã–π PIN –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–±—Ä–æ—Å
   - –î–≤–æ–π–Ω–∞—è –∑–∞—â–∏—Ç–∞: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ + PIN

2. **–ï—Å–ª–∏ PIN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è
   - –¢—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PIN –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚ùå –ö–Ω–æ–ø–∫–∞ "–°–¥–µ–ª–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂" –≤–≤–æ–¥–∏–ª–∞ –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ
- ‚ùå –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ç—Ä–µ–±–æ–≤–∞–ª PIN
- ‚ùå –†–∏—Å–∫ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è 2 TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –≤ –∫–æ–¥–µ

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∞, UI —Å—Ç–∞–ª —á–∏—â–µ
- ‚úÖ –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–±—É–µ—Ç PIN (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í—Å–µ TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∞–Ω–∞–ª–∏–∑ –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

- ‚úÖ `flutter analyze` - No issues found!
- ‚úÖ –ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –ª–∏–Ω—Ç–µ—Ä–∞
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ—Å–ª–µ async –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å PIN

---

## üìù –§–ê–ô–õ–´

**–ò–∑–º–µ–Ω–µ–Ω—ã:**
- `lib/screens/calculators/monthly_budget_calculator.dart` - —É–±—Ä–∞–Ω–∞ –∫–Ω–æ–ø–∫–∞ —á–µ–ª–ª–µ–Ω–¥–∂–∞
- `lib/screens/settings_screen.dart` - –¥–æ–±–∞–≤–ª–µ–Ω –∑–∞–ø—Ä–æ—Å PIN –ø—Ä–∏ —Å–±—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã—Ö

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–°–ï TODO –ò–°–ü–†–ê–í–õ–ï–ù–´**

