# –ü–û–õ–ù–´–ô –ê–£–î–ò–¢ –ü–†–û–ï–ö–¢–ê bary3
**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2024  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 1.0.0+1  
**–ê—É–¥–∏—Ç–æ—Ä:** Senior Flutter Architect & Code Auditor  
**–°—Ç–∞—Ç—É—Å –∞–Ω–∞–ª–∏–∑–∞:** ‚úÖ –ü–†–û–ï–ö–¢ –í –û–¢–õ–ò–ß–ù–û–ú –°–û–°–¢–û–Ø–ù–ò–ò

---

## A) –ö–ê–†–¢–ê –ü–†–û–ï–ö–¢–ê

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫:
- **`lib/`** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - **`models/`** ‚Äî –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (7 —Ñ–∞–π–ª–æ–≤)
    - Transaction, PiggyBank, PlannedEvent, Lesson, PlayerProfile, BariMemory, CustomTask
  - **`screens/`** ‚Äî —ç–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (20+ —Ñ–∞–π–ª–æ–≤)
    - **`calculators/`** ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã (9 —Ñ–∞–π–ª–æ–≤)
  - **`services/`** ‚Äî —Å–µ—Ä–≤–∏—Å—ã (7 —Ñ–∞–π–ª–æ–≤)
    - StorageService, NotificationService, AutoFillService, CurrencyController, MoneyFormatter, MoneyUI
  - **`widgets/`** ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–∏–¥–∂–µ—Ç—ã
    - BariOverlay, BariReaction
  - **`theme/`** ‚Äî —Ç–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (AuroraTheme)
  - **`l10n/`** ‚Äî –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (AppLocalizations)
  - **`bari_smart/`** ‚Äî –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ Bari Smart Reference
    - –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤, –∫–æ–Ω—Ç–µ–∫—Å—Ç, –º–æ–¥–µ–ª–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  - **`bari/`** ‚Äî —Å—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Bari (legacy, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
  - **`main.dart`** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞

### –†–æ—É—Ç–µ—Ä –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è:
- **–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è:** `MainScreen` —Å `BottomNavigationBar` (5 –≤–∫–ª–∞–¥–æ–∫)
- **–†–æ—É—Ç—ã:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `main.dart` —á–µ—Ä–µ–∑ `MaterialApp.routes`:
  - `/chat` ‚Üí BariChatScreen
  - `/parent-zone` ‚Üí ParentZoneScreen
  - `/tools` ‚Üí ToolsHubScreen
  - `/piggy-banks` ‚Üí PiggyBanksScreen
- **–û—Å—Ç–∞–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è:** `Navigator.push` —Å `MaterialPageRoute`
- **–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫:** `MainScreen.tabNotifier` (ValueNotifier)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:
- **–ù–ï–¢** Riverpod/BLoC/Provider
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **StatefulWidget** + `setState`
- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `StorageService` (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã)
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `SharedPreferences` (JSON-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è)
- –†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: `StorageService.transactionsVersion` (ValueNotifier) –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI

### –ë–∞–∑–∞/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:
- **–ù–ï–¢** –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–ª–æ—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- **StorageService** ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ª–æ–π —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- –•—Ä–∞–Ω–µ–Ω–∏–µ: `SharedPreferences` (JSON-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è)
- –ú–∏–≥—Ä–∞—Ü–∏–∏: –µ—Å—Ç—å `migratePiggyLedgerIfNeeded()` –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –≤—Å–µ –º–µ—Ç–æ–¥—ã `get*` –æ–±—ë—Ä–Ω—É—Ç—ã –≤ `try-catch`

### –£—Ä–æ–∫–∏:
- ‚úÖ **–ï–°–¢–¨** –ø–∞–ø–∫–∞ `assets/lessons/` —Å JSON —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ –£—Ä–æ–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ `assets/lessons/{ru,de,en}/lessons.json`
- ‚úÖ 40 —É—Ä–æ–∫–æ–≤: 20 free + 20 premium
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ (RU/DE/EN)

### Bari Smart Reference:
- ‚úÖ –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ `lib/bari_smart/` –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã: SmallTalk, AppHelp, FinanceCoach, KnowledgePack, OnlineReference, Fallback
- ‚úÖ –û—Ñ–ª–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–Ω–∞–Ω–∏–π –∏–∑ `assets/bari/knowledge_ru.json`
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–Ω–ª–∞–π–Ω-–ø–æ–∏—Å–∫ (ECB, World Bank, Wikipedia, Wiktionary)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ SettingsScreen (3 –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è)
- ‚ö†Ô∏è –°—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `lib/bari/` –æ—Å—Ç–∞–ª–∞—Å—å (legacy, –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)

---

## B) –ü–†–ê–í–î–ê/–ò–õ–õ–Æ–ó–ò–Ø (–ø–æ –º–æ–¥—É–ª—è–º)

### 1. Balance (–ë–∞–ª–∞–Ω—Å)
**–†–ï–ê–õ–¨–ù–û –ì–û–¢–û–í–û:**
- ‚úÖ –ë–∞–ª–∞–Ω—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (`_calculateBalance()`)
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–µ–æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (`parentApproved == false`)
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –Ω–µ –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –∫–æ—à–µ–ª—ë–∫ (`affectsWallet == false`)
- ‚úÖ –ü—Ä–æ–≥–Ω–æ–∑ –±–∞–ª–∞–Ω—Å–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (–¥–æ–±–∞–≤–ª—è–µ—Ç PlannedEvents)
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–¥–µ–Ω—å/–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü/–≤—Å—ë)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤/—Ä–∞—Å—Ö–æ–¥–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –Ω–µ–æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º: –Ω–µ–ª—å–∑—è –≤–≤–µ—Å—Ç–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∏–ª–∏ –Ω–æ–ª—å

**–ò–õ–õ–Æ–ó–ò–Ø:**
- ‚ö†Ô∏è –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ (–º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –æ—á–µ–Ω—å –±–æ–ª—å—à—É—é —Å—É–º–º—É)

**–°–ö–†–´–¢–´–ô –ë–ê–ì:**
- ‚úÖ –ù–µ—Ç ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

### 2. PiggyBanks (–ö–æ–ø–∏–ª–∫–∏)
**–†–ï–ê–õ–¨–ù–û –ì–û–¢–û–í–û:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–ø–∏–ª–æ–∫
- ‚úÖ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é `expense` —Å `affectsWallet: true`
- ‚úÖ –°–Ω—è—Ç–∏–µ –∏–∑ –∫–æ–ø–∏–ª–∫–∏ –∏–º–µ–µ—Ç 3 —Ä–µ–∂–∏–º–∞:
  - "–í –∫–æ—à–µ–ª—ë–∫" (income, affectsWallet: true)
  - "–ü–æ—Ç—Ä–∞—Ç–∏—Ç—å —Å—Ä–∞–∑—É" (expense, affectsWallet: false)
  - "–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ –¥—Ä—É–≥—É—é –∫–æ–ø–∏–ª–∫—É" (2 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, affectsWallet: false)
- ‚úÖ –ê–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (`AutoFillService`)
- ‚úÖ –ü—Ä–æ–≥–Ω–æ–∑ "–ö–æ–≥–¥–∞ –¥–æ—Å—Ç–∏–≥–Ω—É —Ü–µ–ª–∏?" —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (`migratePiggyLedgerIfNeeded`)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º: `amount > 0`

**–ò–õ–õ–Æ–ó–ò–Ø:**
- ‚ö†Ô∏è –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ, —á–µ–º —Ü–µ–ª—å?)

**–°–ö–†–´–¢–´–ô –ë–ê–ì:**
- ‚ö†Ô∏è –ï—Å–ª–∏ –∫–æ–ø–∏–ª–∫–∞ —É–¥–∞–ª–µ–Ω–∞, –Ω–æ –µ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å `piggyBankId` ‚Äî –æ–Ω–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è "–≤–∏—Å—è—á–∏–º–∏" (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

---

### 3. Calendar/PlannedEvents (–ö–∞–ª–µ–Ω–¥–∞—Ä—å)
**–†–ï–ê–õ–¨–ù–û –ì–û–¢–û–í–û:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–æ—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã: planned, completed, canceled, missed
- ‚úÖ –ú–∞—Ä–∫–µ—Ä—ã –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ (–∑–µ–ª—ë–Ω—ã–µ/–∫—Ä–∞—Å–Ω—ã–µ/–∂—ë–ª—Ç—ã–µ —Ç–æ—á–∫–∏)
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è —Å–æ–∑–¥–∞—ë—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é **1 —Ä–∞–∑** (–∑–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- ‚úÖ –ü–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è —Å–æ–∑–¥–∞—é—Ç —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ (–Ω–µ –∫–ª–æ–Ω–∏—Ä—É—é—Ç—Å—è –ø–∞—á–∫–æ–π)
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è —Å–Ω–∏–º–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- ‚úÖ –õ–æ–≥–∏–∫–∞ "missed" —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è)
- ‚úÖ –ü—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

**–ò–õ–õ–Æ–ó–ò–Ø:**
- ‚ö†Ô∏è –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –Ω–∞ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ —É–∂–µ –µ—Å—Ç—å –¥—Ä—É–≥–æ–µ)

**–°–ö–†–´–¢–´–ô –ë–ê–ì:**
- ‚úÖ –ù–µ—Ç ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

### 4. Lessons (–£—Ä–æ–∫–∏)
**–†–ï–ê–õ–¨–ù–û –ì–û–¢–û–í–û:**
- ‚úÖ –£—Ä–æ–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ `assets/lessons/{ru,de,en}/lessons.json`
- ‚úÖ 40 —É—Ä–æ–∫–æ–≤: 20 free + 20 premium
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (`LessonProgress`)
- ‚úÖ –ö–≤–∏–∑—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ XP
- ‚úÖ –ü—Ä–µ–º–∏—É–º-–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ `isPremium`)
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (–Ω–µ –∑–∞–≥–ª—É—à–∫–∏)

**–ò–õ–õ–Æ–ó–ò–Ø:**
- ‚úÖ –ù–µ—Ç ‚Äî –≤—Å—ë —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°–ö–†–´–¢–´–ô –ë–ê–ì:**
- ‚ö†Ô∏è –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å —É—Ä–æ–∫ –∏–∑ JSON, –ø—Ä–æ–≥—Ä–µ—Å—Å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è "–≤–∏—Å—è—á–∏–º" (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

---

### 5. Tools/Calculators (–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã/–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã)
**–†–ï–ê–õ–¨–ù–û –ì–û–¢–û–í–û:**
- ‚úÖ 9 –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –°–æ–∑–¥–∞—é—Ç PlannedEvents —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º `source`
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã —Å–æ–∑–¥–∞—é—Ç –¥–µ–π—Å—Ç–≤–∏—è

**–ò–õ–õ–Æ–ó–ò–Ø:**
- ‚ö†Ô∏è –í `monthly_budget_calculator.dart` –µ—Å—Ç—å TODO: "—Å–æ–∑–¥–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂" (–∫–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç SnackBar)

**–°–ö–†–´–¢–´–ô –ë–ê–ì:**
- ‚ö†Ô∏è –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞?) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ: –≤–∞–ª–∏–¥–∞—Ü–∏—è –µ—Å—Ç—å –≤ UI

---

### 6. EarningsLab (–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞)
**–†–ï–ê–õ–¨–ù–û –ì–û–¢–û–í–û:**
- ‚úÖ –ó–∞–¥–∞–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è (–±—ã—Å—Ç—Ä—ã–µ + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ)
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π —Å–æ–∑–¥–∞—ë—Ç PlannedEvent
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–æ–∑–¥–∞—ë—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —Å –æ–¥–æ–±—Ä–µ–Ω–∏–µ–º —Ä–æ–¥–∏—Ç–µ–ª—è (>= 100‚ÇΩ)
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Å–µ–≥–æ–¥–Ω—è/–Ω–µ–¥–µ–ª—è/—Å–µ—Ä–∏—è)
- ‚úÖ –¢–æ–ø-3 –∑–∞–¥–∞–Ω–∏—è
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∑–∞—Ä–∞–±–æ—Ç–∫–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º: `money < 0` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

**–ò–õ–õ–Æ–ó–ò–Ø:**
- ‚ö†Ô∏è –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ cooldown –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ (—Ö–æ—Ç—è –µ—Å—Ç—å –ø–æ–ª–µ `cooldownHours`)

**–°–ö–†–´–¢–´–ô –ë–ê–ì:**
- ‚úÖ –ù–µ—Ç ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

### 7. Bari (–ú–∞—Å–∫–æ—Ç)
**–†–ï–ê–õ–¨–ù–û –ì–û–¢–û–í–û:**
- ‚úÖ –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è (income, expense, planCompleted –∏ —Ç.–¥.)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ –ü–∞–º—è—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ (10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π, 10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫)
- ‚úÖ Overlay —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–ª–∞–≤–∞—é—â–∏–π –≤–∏–¥–∂–µ—Ç)
- ‚úÖ Bari Smart Reference —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
- ‚úÖ –ß–∞—Ç —Å Bari —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤

**–ò–õ–õ–Æ–ó–ò–Ø:**
- ‚ö†Ô∏è –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–ø–∞–º —Ä–µ–∞–∫—Ü–∏–π (–º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ)

**–°–ö–†–´–¢–´–ô –ë–ê–ì:**
- ‚ö†Ô∏è –ï—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏–π > 10, —Å—Ç–∞—Ä—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è, –Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–∂–µ—Ç "–∑–∞—Å—Ç—Ä—è—Ç—å" –Ω–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

---

### 8. Settings/Parent PIN/Premium (–ù–∞—Å—Ç—Ä–æ–π–∫–∏)
**–†–ï–ê–õ–¨–ù–û –ì–û–¢–û–í–û:**
- ‚úÖ –°–º–µ–Ω–∞ —Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–º–µ–Ω–∞ —è–∑—ã–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π JSON
- ‚úÖ –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π PIN
- ‚úÖ –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–æ–Ω–∞ —Å PIN
- ‚úÖ **PIN –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω** (SHA-256 hash + salt) ‚úÖ
- ‚úÖ Bari Smart –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (3 –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è)

**–ò–õ–õ–Æ–ó–ò–Ø:**
- ‚úÖ –ù–µ—Ç ‚Äî –≤—Å—ë —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°–ö–†–´–¢–´–ô –ë–ê–ì:**
- ‚úÖ –ù–µ—Ç ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

## C) 25 –¢–ò–ü–û–í–´–• –õ–û–í–£–®–ï–ö ‚Äî –ü–†–û–í–ï–†–ö–ê

| ‚Ññ | –õ–æ–≤—É—à–∫–∞ | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|---|---------|--------|-------------|
| 1 | –î–µ–Ω—å–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ int cents (–Ω–µ double) | ‚úÖ | `Transaction.amount: int` (–≤ —Ü–µ–Ω—Ç–∞—Ö) |
| 2 | –í—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –∏–¥—É—Ç –∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π | ‚úÖ | `_calculateBalance()` —á–∏—Ç–∞–µ—Ç –∏–∑ `_transactions` |
| 3 | –ö–æ–ø–∏–ª–∫–∏ –Ω–µ –ª–æ–º–∞—é—Ç –±–∞–ª–∞–Ω—Å | ‚úÖ | `affectsWallet: false` –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –º–µ–∂–¥—É –∫–æ–ø–∏–ª–∫–∞–º–∏ |
| 4 | PlannedEvent -> Done —Å–æ–∑–¥–∞—ë—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é 1 —Ä–∞–∑ | ‚úÖ | –ï—Å—Ç—å –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| 5 | –ü–æ–≤—Ç–æ—Ä—ã PlannedEvent –Ω–µ –∫–ª–æ–Ω–∏—Ä—É—é—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ | ‚úÖ | –°–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ |
| 6 | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ | ‚úÖ | `cancelEventNotification` + `scheduleEventNotification` |
| 7 | –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è —Å–Ω–∏–º–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ | ‚úÖ | `cancelEventNotification` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è |
| 8 | –ü—É—Å—Ç–∞—è –±–∞–∑–∞ –Ω–µ –ø–∞–¥–∞–µ—Ç (null safety) | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∏ `json == null ? [] : ...` |
| 9 | –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ "–ª–æ–º–∞–µ—Ç" –∫–ª—é—á–∏ | ‚ö†Ô∏è | –ï—Å—Ç—å `AppLocalizations`, –Ω–æ –Ω–µ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã |
| 10 | assets –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –≤ pubspec.yaml | ‚úÖ | –°–µ–∫—Ü–∏—è `assets:` –µ—Å—Ç—å, –ø–æ–¥–∫–ª—é—á–µ–Ω—ã lessons –∏ bari |
| 11 | lessons –Ω–µ –ø—É—Å—Ç—ã–µ | ‚úÖ | **40 —É—Ä–æ–∫–æ–≤** –∏–∑ assets, —Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç |
| 12 | premium lock —Ä–µ–∞–ª—å–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ `lesson.isPremium` –≤ UI |
| 13 | parent PIN –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º —Ç–µ–∫—Å—Ç–æ–º | ‚úÖ | **SHA-256 hash + salt** ‚úÖ |
| 14 | –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç—Å—è | ‚úÖ | `_screens` ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ |
| 15 | –ù–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | ‚úÖ | –ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ |
| 16 | –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ –¥–µ–ª–∞—é—Ç UI-—Ä–∞–±–æ—Ç—É | ‚úÖ | `StorageService` —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ |
| 17 | –û—à–∏–±–∫–∏ –ë–î –Ω–µ –≥–ª—É—à–∞—Ç—Å—è –º–æ–ª—á–∞ | ‚úÖ | **try-catch –≤–µ–∑–¥–µ**, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `debugPrint` |
| 18 | –ù–µ—Ç "–º–µ—Ä—Ç–≤—ã—Ö –∫–Ω–æ–ø–æ–∫" | ‚ö†Ô∏è | –ï—Å—Ç—å 1 TODO –≤ `monthly_budget_calculator.dart` |
| 19 | –ù–µ—Ç "–º–æ–ª—á–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã—Ö" –∏—Å–∫–ª—é—á–µ–Ω–∏–π | ‚úÖ | –í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è |
| 20 | –§–æ—Ä–º–∞—Ç—ã –¥–∞—Ç/–¥–µ–Ω–µ–≥ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ | ‚ö†Ô∏è | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `NumberFormat` –∏ `DateFormat`, –Ω–æ –Ω–µ –≤–µ–∑–¥–µ |
| 21 | Bari —Ä–µ–∞–∫—Ü–∏–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç UI | ‚úÖ | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã |
| 22 | Bari memory –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ | ‚úÖ | `recentActions.length > 10` ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ |
| 23 | –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã | ‚úÖ | `migratePiggyLedgerIfNeeded()` |
| 24 | –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç JSON | ‚úÖ | **try-catch –ø—Ä–∏ `jsonDecode`**, –¥–∏–∞–ª–æ–≥ —Å –æ—à–∏–±–∫–æ–π |
| 25 | –ü—Ä–æ–≥–Ω–æ–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ç–¥–µ–ª—ë–Ω –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ | ‚úÖ | –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑" |

**–ò—Ç–æ–≥–æ:** ‚úÖ 20/25, ‚ö†Ô∏è 5/25, üî¥ 0/25

---

## D) –ö–û–ù–ö–†–ï–¢–ù–´–ï –ü–†–ê–í–ö–ò (Fix Plan)

### P0 ‚Äî –õ–û–ú–ê–ï–¢ –î–ï–ù–¨–ì–ò/–î–ê–ù–ù–´–ï/–ö–†–ê–®

**‚úÖ –í–°–ï P0 –ó–ê–î–ê–ß–ò –í–´–ü–û–õ–ù–ï–ù–´**

1. ‚úÖ **–û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
2. ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ StorageService** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (try-catch –≤–µ–∑–¥–µ)
3. ‚úÖ **PIN –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω** ‚Äî SHA-256 hash + salt
4. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è JSON –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –¥–∏–∞–ª–æ–≥–æ–º –æ—à–∏–±–∫–∏
5. ‚úÖ **–õ–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

### P1 ‚Äî –õ–û–ú–ê–ï–¢ UX/–õ–û–ì–ò–ö–ê –ù–ï–ü–û–õ–ù–ê–Ø

#### 1. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏
**–ß—Ç–æ:** –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ, —á–µ–º —Ü–µ–ª—å –∫–æ–ø–∏–ª–∫–∏

**–ì–¥–µ:** `lib/screens/piggy_banks_screen.dart` (–º–µ—Ç–æ–¥ `_addToPiggyBank`)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –°–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏–ª–∫—É —Å —Ü–µ–ª—å—é 100‚ÇΩ
2. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –¥–æ–±–∞–≤–∏—Ç—å 200‚ÇΩ
3. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ

**–®–∞–≥–∏:**
```dart
if (newAmount > bank.targetAmount) {
  // –°–ø—Ä–æ—Å–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Å—É–º–º—É
}
```

---

#### 2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å TODO –≤ monthly_budget_calculator.dart
**–ß—Ç–æ:** –ï—Å—Ç—å TODO: "—Å–æ–∑–¥–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂"

**–ì–¥–µ:** `lib/screens/calculators/monthly_budget_calculator.dart:223`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä—ã—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –º–µ—Å—è—á–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞
2. –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂" –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å

**–®–∞–≥–∏:**
- –õ–∏–±–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –ª–∏–±–æ —É–±—Ä–∞—Ç—å –∫–Ω–æ–ø–∫—É

---

#### 3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É cooldown –≤ EarningsLab
**–ß—Ç–æ:** –ï—Å—Ç—å –ø–æ–ª–µ `cooldownHours`, –Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

**–ì–¥–µ:** `lib/screens/earnings_lab_screen.dart` (–º–µ—Ç–æ–¥ `_completeTask`)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ
2. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–Ω–æ–≤–∞ –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è cooldown
3. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü–æ–¥–æ–∂–¥–∏—Ç–µ X —á–∞—Å–æ–≤"

**–®–∞–≥–∏:**
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å `_lastCompletionsMap[taskId]` + `cooldownHours`
- –ï—Å–ª–∏ –Ω–µ –ø—Ä–æ—à–ª–æ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É

---

#### 4. –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏
**–ß—Ç–æ:** –ú–Ω–æ–≥–æ —Ö–∞—Ä–¥–∫–æ–¥–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

**–ì–¥–µ:** –í—Å–µ —ç–∫—Ä–∞–Ω—ã

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫ –Ω–∞ DE/EN
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã

**–®–∞–≥–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –≤ `AppLocalizations`
- –ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –Ω–∞ `AppLocalizations.of(context)?.key`

---

#### 5. –£–¥–∞–ª–∏—Ç—å legacy —Å—Ç—Ä—É–∫—Ç—É—Ä—É lib/bari/
**–ß—Ç–æ:** –°—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `lib/bari/` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `lib/bari_smart/`)

**–ì–¥–µ:** `lib/bari/` (–≤—Å—è –ø–∞–ø–∫–∞)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `BariBrain` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `BariSmart`)
2. –£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É `lib/bari/`

**–®–∞–≥–∏:**
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `bari_smart`
- –£–¥–∞–ª–∏—Ç—å `lib/bari/`

---

### P2 ‚Äî –ö–ê–ß–ï–°–¢–í–û/–ß–ò–°–¢–ö–ê

#### 6. –ò—Å–ø—Ä–∞–≤–∏—Ç—å deprecated API (–µ—Å–ª–∏ –µ—Å—Ç—å)
**–ß—Ç–æ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ deprecated API

**–ì–¥–µ:** –í—Å–µ —ç–∫—Ä–∞–Ω—ã

**–®–∞–≥–∏:**
- –ó–∞–ø—É—Å—Ç–∏—Ç—å `flutter analyze` ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å—Ç—ã–º ‚úÖ

---

#### 7. –î–æ–±–∞–≤–∏—Ç—å –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞—Ç/–¥–µ–Ω–µ–≥
**–ß—Ç–æ:** –í —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

**–ì–¥–µ:** –í—Å–µ —ç–∫—Ä–∞–Ω—ã

**–®–∞–≥–∏:**
- –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã `formatAmount(int cents)` –∏ `formatDate(DateTime date)`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∑–¥–µ

---

#### 8. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (—É–ª—É—á—à–µ–Ω–∏–µ)
**–ß—Ç–æ:** –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `debugPrint`, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

**–ì–¥–µ:** –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã

**–®–∞–≥–∏:**
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞ `logger` –¥–ª—è production
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

---

## E) –ò–¢–û–ì

### –ü—Ä–æ—Ü–µ–Ω—Ç —Ä–µ–∞–ª—å–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø–æ –º–æ–¥—É–ª—è–º:

| –ú–æ–¥—É–ª—å | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|--------|------------|-------------|
| Balance | **95%** | –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ, –µ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è |
| PiggyBanks | **90%** | –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è |
| Calendar | **98%** | –ü–æ—á—Ç–∏ –∏–¥–µ–∞–ª—å–Ω–æ |
| Lessons | **100%** | –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å —Ä–µ–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º |
| Tools/Calculators | **95%** | –†–∞–±–æ—Ç–∞–µ—Ç, –µ—Å—Ç—å 1 TODO |
| EarningsLab | **95%** | –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ cooldown |
| Bari | **95%** | –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ Bari Smart —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ |
| Settings | **100%** | –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, PIN –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω |

**–°—Ä–µ–¥–Ω—è—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: ~96%**

---

### 5 —Å–∞–º—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–∏—Å–∫–æ–≤:

1. ‚úÖ **PIN –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω** ‚Äî SHA-256 hash + salt (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
2. ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî try-catch –≤–µ–∑–¥–µ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
3. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è JSON** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –¥–∏–∞–ª–æ–≥–æ–º (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
4. ‚úÖ **–£—Ä–æ–∫–∏ ‚Äî —Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç** ‚Äî 40 —É—Ä–æ–∫–æ–≤ –∏–∑ assets (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
5. ‚ö†Ô∏è **–ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ª–∫–∏** ‚Äî –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ü–µ–ª–∏ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, P1)

---

### –°–ª–µ–¥—É—é—â–∏–π –ª—É—á—à–∏–π —à–∞–≥:

**–£–î–ê–õ–ò–¢–¨ LEGACY –°–¢–†–£–ö–¢–£–†–£ lib/bari/** (P1, –∑–∞–¥–∞—á–∞ #5)

**–ü–æ—á–µ–º—É:**
- –°—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ú–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—É
- –£–ø—Ä–æ—Å—Ç–∏—Ç –∫–æ–¥–±–∞–∑—É

**–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å TODO –≤ monthly_budget_calculator.dart (P1, –∑–∞–¥–∞—á–∞ #2)
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–ø–∏–ª–∫–∏ (P1, –∑–∞–¥–∞—á–∞ #1)

---

## F) –ù–û–í–´–ï –§–ò–ß–ò (Bari Smart Reference)

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ (6 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)
- ‚úÖ –û—Ñ–ª–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–Ω–∞–Ω–∏–π (70+ –∫–∞—Ä—Ç–æ—á–µ–∫)
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–Ω–ª–∞–π–Ω-–ø–æ–∏—Å–∫ (ECB, World Bank, Wikipedia, Wiktionary)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ SettingsScreen (3 –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ BariChatScreen
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π (–Ω–∞–≤–∏–≥–∞—Ü–∏—è, —É–ø—Ä–æ—â–µ–Ω–∏–µ, –∏—Å—Ç–æ—á–Ω–∏–∫–∏)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (`lib/bari_smart/`)
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (BariContext)
- ‚úÖ Graceful fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–Ω–ª–∞–π–Ω-–æ—Ç–≤–µ—Ç–æ–≤

---

## –ü–†–ò–õ–û–ñ–ï–ù–ò–ï: –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
flutter analyze
# –†–µ–∑—É–ª—å—Ç–∞—Ç: No issues found! ‚úÖ

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
flutter analyze lib/screens/earnings_lab_screen.dart

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
flutter run

# –°–æ–±—Ä–∞—Ç—å APK
flutter build apk
```

---

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ü—Ä–æ–µ–∫—Ç –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏:**
- ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–µ–∑–¥–µ
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (PIN –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–µ–∑–¥–µ
- ‚úÖ –ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —É—Ä–æ–∫–æ–≤
- ‚úÖ –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ Bari Smart Reference —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚ö†Ô∏è –ï—Å—Ç—å 1 TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
- ‚ö†Ô∏è –ï—Å—Ç—å legacy —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** 9.5/10

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –£–¥–∞–ª–∏—Ç—å `lib/bari/` (legacy)
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å TODO –≤ monthly_budget_calculator.dart
3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–ø–∏–ª–∫–∏
4. –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Å—Ç—Ä–æ–∫–∏

---

**–ö–æ–Ω–µ—Ü –æ—Ç—á—ë—Ç–∞**
